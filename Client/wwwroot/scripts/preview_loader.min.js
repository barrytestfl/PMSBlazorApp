var n = {
    446: function() {
        function n(e) {
            var n, i, o, t, a, r;
            return e && e.length ? (n = [],
            i = [],
            o = this,
            e.forEach(function(e) {
                var t = e.dataPayload;
                0 === o.allowedMediaTypes.filter(function(e) {
                    return t.fileType.toLowerCase() == e.toLowerCase()
                }).length ? n.push("".concat(t.name)) : (i.push({
                    MediaId: t.key,
                    MediaMasterFlag: !0,
                    MediaRestrictions: []
                }),
                e = i.find(function(e) {
                    return e.MediaId == t.key
                }),
                l(t.width, t.height, o.shortestSide) && (e.MediaRestrictions.push({
                    QualityCode: "res"
                }),
                e.MediaMasterFlag = !1),
                !o.mediaTypeCode || null != t.mediaTypeCode && null != t.mediaTypeCode && "" !== t.mediaTypeCode || (e.MediaRestrictions.push({
                    QualityCode: "typ"
                }),
                e.MediaMasterFlag = !1))
            }),
            0 < n.length && (t = n,
            a = this.allowedMediaTypes,
            r = this.galleryName,
            t = eviivo.media.translations.Label_Warning_GalleryRestrictedMediaType.replace("{0}", n.length).replace("{1}", eviivo.media.galleryList.extractGalleryName(r).toLowerCase()).replace("{2}", a.join(", ")),
            eviivo.webcore.notifier.show({
                type: "warn",
                message: "<ul>".concat(t, "</ul>")
            })),
            i) : e
        }
        function i(e, t, n) {
            var i = (i = t.type) || function(e) {
                switch (e.slice(e.lastIndexOf(".") + 1).toLowerCase()) {
                case "png":
                    return "image/png";
                case "jpeg":
                case "jpg":
                    return "image/jpeg";
                case "gif":
                    return "image/gif";
                case "pdf":
                    return "application/pdf";
                default:
                    return null
                }
            }(t.webkitRelativePath)
              , o = t.size
              , a = {
                isFileTooLarge: !1,
                isTypeNotAllowed: !1
            }
              , r = (o / 1024 > this.maxSize && (a.isFileTooLarge = !0),
            "pdf" !== i);
            return null != c && !c && r && (a.isTypeNotAllowed = !0),
            null == s || s || r || (a.isTypeNotAllowed = !0),
            0 === this.allowedMediaTypes.filter(function(e) {
                return 0 < i.toLowerCase().indexOf(e.toLowerCase())
            }).length && (a.isTypeNotAllowed = !0),
            (r = {
                name: t.name,
                hasWarnings: a.isTypeNotAllowed || a.isFileTooLarge
            }).hasWarnings ? (r.warnings = a,
            r.type = i,
            r.size = o,
            n(e, r),
            !1) : (n(e, r, i),
            !0)
        }
        function l(e, t, n) {
            return e < n && t < n
        }
        function o() {
            return this.mediaTypeCode
        }
        var a, s, c;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.restrictions = (c = s = null,
        {
            allRestrictions: a = [],
            init: function(e) {
                Object.keys(e).forEach(function(t) {
                    a[t] = e[t],
                    "galleries" === t && Object.keys(a.galleries).forEach(function(e) {
                        a[t][e].galleryName = e,
                        a[t][e].checkOnAssignToGalleryRestrictions = n,
                        a[t][e].checkUploadRestriction = i,
                        a[t][e].checkResolution = l,
                        a[t][e].checkMediaTypeCodeRequired = o
                    })
                })
            },
            setAllowImages: function(e) {
                c = e
            },
            setAllowFiles: function(e) {
                s = e
            }
        })
    },
    347: function() {
        function s(e, t, n) {
            eviivo.webcore.notifier && eviivo.webcore.notifier.show && (eviivo.webcore.notifier.show({
                type: eviivo.webcore.notifier.types.warn,
                message: function(e) {
                    if (null == e)
                        return eviivo.media.translations.Label_Warning_ConfirmRemoveImage;
                    if (0 === e.length)
                        return eviivo.media.translations.Label_Warning_ConfirmDelete;
                    for (var t = eviivo.media.translations.Label_Warning_ConfirmDelete + " " + eviivo.media.translations.Label_Warning_ConfirmDeleteGalleryNotification + '<ul class="column-list">', n = 0; n < e.length; n++)
                        t += "<li>" + e[n] + "</li>";
                    return t + "<ul>"
                }(n),
                style: eviivo.webcore.notifier.styles.withTwoActions,
                autoHide: !1,
                buttonOne: "<button class='btn btn-secondary' id='ntf-dlt-cancel'> " + eviivo.media.translations.Button_Cancel + "</button>",
                buttonTwo: "<button class='btn btn-right btn-red' id='ntf-dlt-confirm'> " + t + "</button>"
            }),
            d("#ntf-dlt-confirm").on("click", e))
        }
        function c(e, t, n, i, o, a) {
            t = f.urls.mediaApi + "/gallery/" + t + "/property/" + e + "/soft-delete/";
            null != n && (t += "/" + n),
            d.ajax({
                type: "POST",
                contentType: "application/json",
                crossDomain: !0,
                url: t,
                data: JSON.stringify(i),
                success: function(e) {
                    "function" == typeof o && o(e),
                    r()
                },
                error: function(e, t, n) {
                    "function" == typeof a && a(),
                    console.error("== ERROR: " + u),
                    console.error(e),
                    console.error(t),
                    console.error(n)
                }
            })
        }
        function r() {
            eviivo.webcore.notifier && eviivo.webcore.notifier.show && null == eviivo.media.preview && eviivo.webcore.notifier.show({
                type: eviivo.webcore.notifier.types.success,
                message: eviivo.media.translations.Notifier_SaveWasSuccessful,
                autoHide: !0
            })
        }
        var d, o, u, a, f, l;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.dataTransfer = (u = "eviivo.media.dataTransfer",
        a = "aab96482eddf05a45ad8ba36c8c226b5ad8ba36c8c226b6482cef1963ef0f12a",
        f = {},
        l = {
            w: 250,
            h: 250
        },
        {
            init: function(e) {
                d = window.jQuery,
                f = d.extend({}, e),
                e = window.navigator && window.navigator.userAgent,
                o = e && (0 < e.indexOf("MSIE ") || 0 < e.indexOf("Trident/"))
            },
            retrieveRoomTypes: function(t, i) {
                d.ajax({
                    type: "GET",
                    crossDomain: !0,
                    url: f.urls.pmsApi + "/media/ActiveLocalisedRoomTypes?cultureCode=" + f.cultureCode + "&businessId=" + f.businessId,
                    dataType: "json",
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            retrieveGalleries: function(e, t, i) {
                d.ajax({
                    type: "GET",
                    crossDomain: !0,
                    url: f.urls.mediaApi + "/gallery/" + f.cultureCode + "/property/" + e + "/list",
                    dataType: "json",
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            retrieveMedia: function(e, t, n, i, o, a, r) {
                t = f.urls.mediaApi + "/gallery/" + t + "/" + f.cultureCode + "/property/" + e,
                null != i && (t += "/entity/" + i),
                t += "?width=" + l.w + "&height=" + l.h + "&isFlyoutMode=" + o,
                null != n && (t += "&extraSelectedGallery=" + n),
                d.ajax({
                    type: "GET",
                    url: t,
                    dataType: "json",
                    crossDomain: !0,
                    success: function(e) {
                        "function" == typeof a && a(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof r && r(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            retrieveTypeCodes: function(t, i) {
                d.ajax({
                    type: "GET",
                    crossDomain: !0,
                    url: f.urls.mediaApi + "/gallery/type-codes/" + f.cultureCode,
                    dataType: "json",
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            retrieveTagsCodes: function(t, i) {
                d.ajax({
                    type: "GET",
                    crossDomain: !0,
                    url: f.urls.mediaApi + "/tags/" + f.cultureCode,
                    dataType: "json",
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            retrieveMediaDetails: function(e, t, n, i, o, a) {
                e = f.urls.mediaApi + "/gallery/" + e + (null != t ? "/entity/" + t : "") + "/property/" + n + "/details/" + f.cultureCode,
                d.ajax({
                    type: "POST",
                    contentType: "application/json",
                    crossDomain: !0,
                    url: e,
                    data: JSON.stringify(i),
                    dataType: "json",
                    success: function(e) {
                        "function" == typeof o && o(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof a && a(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            assignMediaToGalleries: function(e, i, t, o) {
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: f.urls.mediaApi + "/gallery/property/" + e + "/assign-media-to-galleries",
                    data: JSON.stringify(i),
                    beforeSend: function(e) {
                        e.setRequestHeader("userId", f.userId)
                    },
                    success: function(e) {
                        "function" == typeof t && t(e),
                        r()
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            assignTypeToMedia: function(e, t, i, n, o) {
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: f.urls.mediaApi + "/gallery/property/" + e + "/media/set-type/" + t,
                    data: JSON.stringify(i),
                    success: function(e) {
                        "function" == typeof n && n(e),
                        r()
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            categorizeMediaDetails: function(e, t, i, n, o) {
                e = f.urls.mediaApi + "/gallery/property/" + e + "/categorize-media-details/",
                null != t && (e += "/" + t),
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: e,
                    data: JSON.stringify(i),
                    beforeSend: function(e) {
                        e.setRequestHeader("userId", f.userId)
                    },
                    success: function(e) {
                        "function" == typeof n && n(e),
                        r()
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            addMedia: function(e, i, t, o) {
                d.ajax({
                    type: "POST",
                    contentType: "application/json",
                    crossDomain: !0,
                    url: f.urls.mediaApi + "/gallery/property/" + e + "/add",
                    data: JSON.stringify(i),
                    beforeSend: function(e) {
                        e.setRequestHeader("userId", f.userId)
                    },
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            uploadImage: function(i, t, o, n) {
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    url: f.urls.imagenApi + "/file/",
                    async: !0,
                    contentType: !1,
                    data: i,
                    processData: !1,
                    beforeSend: function(e) {
                        e.setRequestHeader("X-ev-Imagen-APIKey", a)
                    },
                    xhr: function() {
                        var e = null;
                        return (e = window.ActiveXObject ? new window.ActiveXObject("Microsoft.XMLHTTP") : new window.XMLHttpRequest).upload.addEventListener("progress", function(e) {
                            e.lengthComputable && (e = Math.round(100 * e.loaded / e.total),
                            "function" == typeof n) && n(e)
                        }, !1),
                        e
                    },
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            downloadMedia: function(e, t, n, i) {
                d.ajax({
                    type: "GET",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: f.urls.mediaApi + "/gallery/get-download-data/" + t + "/media/" + e,
                    success: function(e) {
                        var t, n;
                        e && (t = e.Url,
                        n = e.FileName,
                        (e = new XMLHttpRequest).open("GET", t, !0),
                        e.responseType = "blob",
                        e.onload = function() {
                            var e, t;
                            o ? window.navigator && window.navigator.msSaveBlob(this.response, n) : (e = (window.URL || window.webkitURL).createObjectURL(this.response),
                            (t = document.createElement("a")).href = e,
                            t.download = n,
                            document.body.appendChild(t),
                            t.click(),
                            document.body.removeChild(t))
                        }
                        ,
                        e.send())
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(data),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            rotateImage: function(i, t, o) {
                d.ajax({
                    type: "POST",
                    contentType: "application/json",
                    crossDomain: !0,
                    url: f.urls.imagenApi + "/image/rotate",
                    async: !0,
                    data: JSON.stringify(i),
                    beforeSend: function(e) {
                        e.setRequestHeader("X-ev-Imagen-APIKey", a)
                    },
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            tryDeleteMedia: function(o, a, r, e, l, i) {
                "all_media" === a ? d.ajax({
                    type: "POST",
                    contentType: "application/json",
                    crossDomain: !0,
                    dataType: "json",
                    url: f.urls.mediaApi + "/gallery/property/" + o + "/" + f.cultureCode + "/get-assigned-names",
                    data: JSON.stringify(e),
                    success: function(i) {
                        i && null != i.RoomTypeKeys && 0 < i.RoomTypeKeys.length ? eviivo.media.dataTransfer.retrieveRoomTypes(function(e) {
                            if (null != e && 0 !== e.length)
                                for (var t = 0; t < i.RoomTypeKeys.length; t++)
                                    for (var n = 0; n < e.length; n++)
                                        e[n].Key == i.RoomTypeKeys[t] && i.GalleryNames.push(e[n].TranslatedValue);
                            s(function() {
                                c(o, a, r, i.Ids, l)
                            }, eviivo.media.translations.Button_Delete, i.GalleryNames)
                        }) : s(function() {
                            c(o, a, r, i.Ids, l)
                        }, eviivo.media.translations.Button_Delete, i.GalleryNames)
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                }) : s(function() {
                    c(o, a, r, e, l)
                }, eviivo.media.translations.Button_Remove)
            },
            reOrderImages: function(i, e, t, n, o, a) {
                t = f.urls.mediaApi + "/gallery/" + t + "/property/" + e + "/update-order",
                null != n && (t += "/" + n),
                d.ajax({
                    type: "POST",
                    contentType: "application/json",
                    crossDomain: !0,
                    url: t,
                    data: JSON.stringify(i),
                    beforeSend: function(e) {
                        e.setRequestHeader("userId", f.userId)
                    },
                    dataType: "json",
                    success: function(e) {
                        "function" == typeof o && o(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof a && a(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            retrieveImagePreview: function(e, t, n, i) {
                d.ajax({
                    type: "GET",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: f.urls.mediaApi + "/gallery/file/" + t + "/retrieve-preview/" + e,
                    success: function(e) {
                        "function" == typeof n && n(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(data),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            deleteBasedOnExternalReference: function(e, t, n, i) {
                e = f.urls.mediaApi + "/gallery/property/" + e + "/bulk-delete-based-on-externalref",
                d.ajax({
                    type: "POST",
                    contentType: "application/json",
                    crossDomain: !0,
                    url: e,
                    beforeSend: function(e) {
                        e.setRequestHeader("userId", f.userId)
                    },
                    data: JSON.stringify(t),
                    success: function(e) {
                        "function" == typeof n && n(e),
                        r()
                    },
                    error: function(e, t, n) {
                        "function" == typeof i && i(),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            assignMediaToGalleriesWithMasterFlag: function(e, i, t, o) {
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: f.urls.mediaApi + "/gallery/property/" + e + "/assign-media-to-galleries-with-master-flag",
                    data: JSON.stringify(i),
                    beforeSend: function(e) {
                        e.setRequestHeader("userId", f.userId)
                    },
                    success: function(e) {
                        "function" == typeof t && t(e),
                        r()
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            bulkAssignMediaToGalleries: function(e, i, t, o) {
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    contentType: "application/json",
                    url: f.urls.mediaApi + "/gallery/property/" + e + "/bulk-assign-media-to-gallery",
                    data: JSON.stringify(i),
                    success: function(e) {
                        "function" == typeof t && t(e),
                        r()
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            mergeImage: function(i, t, o) {
                d.ajax({
                    type: "POST",
                    crossDomain: !0,
                    url: f.urls.imagenApi + "/file/",
                    async: !0,
                    contentType: !1,
                    data: i,
                    processData: !1,
                    beforeSend: function(e) {
                        e.setRequestHeader("X-ev-Imagen-APIKey", a)
                    },
                    success: function(e) {
                        "function" == typeof t && t(e)
                    },
                    error: function(e, t, n) {
                        "function" == typeof o && o(i),
                        console.error("== ERROR: " + u),
                        console.error(e),
                        console.error(t),
                        console.error(n)
                    }
                })
            },
            getChunkSize: function() {
                return null != f.imageUploadChunkSize ? parseInt(f.imageUploadChunkSize) : 1048576
            },
            shouldUploadWithMultiPart: function() {
                return null != f.imageUploadWithMultiPart ? f.imageUploadWithMultiPart : "false"
            }
        })
    },
    501: function() {
        function e(e) {
            e.stopPropagation()
        }
        function n(e) {
            (null == f || "function" != typeof f.onCancel || f.onCancel()) && r()
        }
        function i(e) {
            null != f && "function" == typeof f.onSave && f.onSave(),
            r()
        }
        function o() {
            null != f && "function" == typeof f.onSaveAndContinue && f.onSaveAndContinue()
        }
        function a(e) {
            ("key"in (e = e || window.event) ? "Escape" === e.key || "Esc" === e.key : 27 === e.keyCode) && r()
        }
        function r(e) {
            l(c.mainContainer).addClass("clear"),
            setTimeout(function() {
                null != f && "function" == typeof f.onStateChangeHandler && f.onStateChangeHandler({
                    active: !1
                }),
                null != f && "function" == typeof f.onClose && f.onClose();
                var e = l("body");
                e.hasClass("overflow-hidden") && e.removeClass("overflow-hidden")
            }, 800)
        }
        var l, s, c, d, u, f, p;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.flyOut = (d = "eviivo.media.flyOut",
        u = {},
        f = {},
        p = null,
        {
            init: function(t) {
                l = window.jQuery,
                s = l.extend({}, t.callerOptions),
                f = l.extend({}, f, t.handlers);
                try {
                    if (null == s.id)
                        throw d + ": unique id argument must be supplied"
                } catch (e) {
                    return console.error(e),
                    void console.error(t)
                }
                u.click = "click." + d,
                u.keyup = "keyup." + d,
                u.touchstart = "touchstart." + d,
                t = "#" + s.id,
                c = {
                    mainContainer: t,
                    overlay: ".cp-flyout_overlay",
                    flyoutContainer: ".cp-flyout_container",
                    closeFlyOut: t + " .s-close",
                    cancelFlyOut: t + " .s-cancel",
                    saveFlyOut: t + " .s-save",
                    saveAndCountinueFlyOut: t + " .s-save-and-continue"
                },
                l(document).on(u.click + " " + u.touchstart, c.closeFlyOut, r),
                l(document).on(u.click + " " + u.touchstart, c.overlay, r),
                l(document).on(u.click + " " + u.touchstart, c.flyoutContainer, e),
                l(document).on(u.click, c.saveFlyOut, i),
                l(document).on(u.click, c.saveAndCountinueFlyOut, o),
                l(document).on(u.click, c.cancelFlyOut, n),
                l(document).on(u.keyup, a)
            },
            load: function(e) {
                (p = l.extend({}, e)).active = !0;
                var t = l("body");
                t.hasClass("overflow-hidden") || t.addClass("overflow-hidden"),
                null != f && "function" == typeof f.onStateChangeHandler && f.onStateChangeHandler(p),
                null != e && null != e.handlers && (f.onSave = e.handlers.onSave,
                f.onSaveAndContinue = e.handlers.onSaveAndContinue,
                f.onClose = e.handlers.onClose,
                f.onCancel = e.handlers.onCancel)
            },
            close: r,
            toggleSave: function(e) {
                l(c.saveFlyOut).removeAttr("disabled"),
                !0 !== e && l(c.saveFlyOut).attr("disabled", "disabled")
            }
        })
    },
    547: function() {
        function a(e, t, n, i) {
            return null == (e = null == e ? {} : e)[t] && (e[t] = {}),
            null == e[t][n] && (e[t][n] = i),
            e
        }
        function n() {
            eviivo.media.mediaList.initDroppable()
        }
        function i(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.galleryList)
                throw v + ": js module eviivo.media.galleryList not found";
            t = {
                actions: t.internalActions,
                callerOptions: f.extend({}, t.internalOptions)
            };
            t.handlers = {
                onStateChange: e,
                onGallerySelect: function(e, t) {
                    eviivo.media.mediaList.onGallerySelect(e, t),
                    eviivo.media.toolbar.refreshToolbarState(null, null, e, t, !1, !0),
                    eviivo.media.assignGallery.refreshAssignGalleryState(e, t),
                    eviivo.media.categorize.refreshAssignGalleryState(e, t),
                    u(e, t)
                }
            },
            eviivo.media.galleryList.init(t)
        }
        function r(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.mediaList)
                throw v + ": js module eviivo.media.mediaList not found";
            t = {
                actions: t.internalActions,
                callerOptions: f.extend({}, t.internalOptions),
                serverConfigurationRestrictions: f.extend({}, p.restrictions)
            };
            t.handlers = {
                onStateChangeHandler: e,
                onSortableChange: function(e, t) {
                    eviivo.media.toolbar.refreshToolbarState(null, null, null, null, e, t)
                },
                onMediaListReturn: eviivo.media.toolbar.refreshToolbarTotalItems
            },
            eviivo.media.mediaList.setHandlers(t)
        }
        function l(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.mediaList)
                throw v + ": js module eviivo.media.mediaList not found";
            var n = {
                actions: t.internalActions,
                callerOptions: f.extend({}, t.internalOptions),
                serverConfigurationRestrictions: f.extend({}, p.restrictions)
            };
            n.handlers = {
                onImageListStateChangeHandler: e,
                onMediaSelectionChange: function(e, t) {
                    eviivo.media.toolbar.refreshToolbarState(e, t),
                    eviivo.media.flyOut.toggleSave(0 < e)
                },
                onMediaUploadSuccess: function(e) {
                    e && "function" == typeof e && e(),
                    !0 !== n.callerOptions.renderFlags.isInlineMode && !0 !== n.callerOptions.renderFlags.isFlyoutMode && eviivo.media.galleryList.refreshGalleries(),
                    eviivo.media.mediaList.refreshMediaList()
                },
                onGalleryAssign: function() {
                    eviivo.media.galleryList.refreshGalleries(),
                    eviivo.media.mediaList.refreshMediaList()
                },
                onAssignMediaType: eviivo.media.mediaList.refreshMediaList,
                onDelete: eviivo.media.toolbar.onDelete
            },
            null == window.mediaListInitialOptions && (window.mediaListInitialOptions = n),
            eviivo.media.mediaList.init(n)
        }
        function s(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.toolbar)
                throw v + ": js module eviivo.media.toolbar not found";
            var n = {
                actions: t.internalActions,
                callerOptions: f.extend({}, t.internalOptions),
                dataObject: f.extend({}, t.dataObject)
            };
            n.handlers = {
                onStateChangeHandler: e,
                onSelectAll: eviivo.media.mediaList.selectAll,
                onClear: eviivo.media.mediaList.clearSelection,
                onAssignMediaType: eviivo.media.assignType.show,
                onAssignGalleries: eviivo.media.assignGallery.show,
                onCategorize: eviivo.media.categorize.show,
                onDelete: function() {
                    !0 !== n.callerOptions.renderFlags.isInlineMode && !0 !== n.callerOptions.renderFlags.isFlyoutMode && eviivo.media.galleryList.refreshGalleries(),
                    eviivo.media.mediaList.refreshMediaList()
                },
                onGallerySelect: function(e, t) {
                    eviivo.media.mediaList.onGallerySelect(e, t),
                    u(e, t)
                }
            },
            null == window.toolBarInitialOptions && (window.toolBarInitialOptions = n),
            eviivo.media.toolbar.init(n)
        }
        function o(e) {
            eviivo.media.mediaList.handleSortable(!1, e)
        }
        function c(e) {
            return eviivo.media.mediaList.sortableToggleHandler(e)
        }
        function d(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media)
                throw v + ": js module eviivo.media not found";
            if (void 0 === eviivo.media.assignType)
                throw v + ": js module eviivo.media.assignType not found";
            var n = t.renderFlags;
            if (eviivo.media.assignType.init({
                handlers: {
                    onAssignMediaType: function() {
                        eviivo.media.mediaList.refreshMediaList()
                    }
                }
            }),
            void 0 === eviivo.media.assignGallery)
                throw v + ": js module eviivo.media.assignGallery not found";
            if (eviivo.media.assignGallery.init({
                handlers: {
                    onGalleryAssign: function() {
                        n.isInlineMode || n.isFlyoutMode || eviivo.media.galleryList.refreshGalleries(),
                        eviivo.media.mediaList.refreshMediaList()
                    }
                }
            }),
            void 0 === eviivo.media.slideControls)
                throw v + ": js module eviivo.media.slideControls not found";
            if (eviivo.media.slideControls.init({
                handlers: {
                    onRefresh: function(e, t) {
                        return eviivo.media.categorize.changeCurrentMedia(e, t)
                    },
                    onButtonPrevClick: function() {
                        eviivo.media.categorize.changeCurrentMedia("prev")
                    },
                    onButtonNextClick: function() {
                        eviivo.media.categorize.changeCurrentMedia("next")
                    }
                }
            }),
            void 0 === eviivo.media.categorize)
                throw v + ": js module eviivo.media.categorize not found";
            eviivo.media.categorize.init({
                dataObject: f.extend({}, t.galleryContext),
                handlers: {
                    onCategorizeSave: function(e, t) {
                        e && eviivo.media.slideControls.refreshSlideControls("save", t),
                        eviivo.media.mediaList.refreshMediaList(),
                        n.isInlineMode || eviivo.media.galleryList.refreshGalleries(),
                        eviivo.media.mediaList.clearSelection()
                    },
                    onDelete: function() {
                        n.isInlineMode || n.isFlyoutMode || eviivo.media.galleryList.refreshGalleries(),
                        eviivo.media.slideControls.refreshSlideControls("delete") && eviivo.media.flyOut.close(),
                        eviivo.media.mediaList.refreshMediaList(),
                        n.isInlineMode || eviivo.media.galleryList.refreshGalleries(),
                        eviivo.media.mediaList.clearSelection()
                    }
                }
            })
        }
        function u(e, t) {
            var n = p.businessId;
            sessionStorage.setItem(n + "_selectedGallery", e),
            null != t ? sessionStorage.setItem(n + "_selectedEntityReference", t) : sessionStorage.removeItem(n + "_selectedEntityReference")
        }
        var f, p, v, m;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.gallery = (v = "eviivo.media.gallery",
        m = function(e, o, t) {
            e.preventDefault(),
            eviivo.media.flyOut.load({
                headerTitle: eviivo.media.translations.Flyout_Title_SelectImages,
                bodyQuestion: null,
                cancelButtonText: eviivo.media.translations.Button_Cancel,
                saveButtonText: eviivo.media.translations.Button_UseImages,
                settings: {
                    disableSaveByDefault: !0
                },
                handlers: {
                    onSave: function(e) {
                        eviivo.media.mediaList.useSelectedImage()
                    },
                    onClose: function(e) {
                        eviivo.media.mediaList.refreshMediaWithJSXCallback(o, t)
                    },
                    onRenderBody: function(e, t) {
                        var n = f("#" + e)
                          , i = {
                            actions: {},
                            callerOptions: f.extend({}, o),
                            dataObject: null,
                            selectedGalleryCode: o.galleryContext.selectedGalleryCode,
                            selectedEntityReference: null
                        }
                          , e = (i.callerOptions.id = e,
                        i.callerOptions.renderFlags = {
                            isFlyoutMode: !0,
                            isUploadFlyoutMode: !0
                        },
                        i.actions = a(i.actions, "mediaList", "onComponentDidMount", r),
                        i.actions = a(i.actions, "imageList", "onComponentDidMount", l),
                        i.actions = a(i.actions, "galleryToolbar", "onComponentDidMount", s),
                        {
                            onAddMedia: eviivo.media.mediaList.triggerOsFileSelector
                        });
                        i.toolbarInfo = e,
                        eviivo.jsx.render.gallery(i, n.parent()[0], n[0])
                    }
                }
            })
        }
        ,
        {
            init: function(t) {
                f = window.jQuery,
                p = f.extend({}, t);
                try {
                    if (null == p.id)
                        throw v + ": unique id argument must be supplied";
                    if (null == document.getElementById(p.id))
                        throw v + ": placeholder with supplied id argument must be unique and present on the page"
                } catch (e) {
                    return console.error(e),
                    void console.error(t)
                }
                var e;
                null != p.renderFlags && !0 === p.renderFlags.renderByDefault && (t = f("#" + p.id),
                (e = {
                    actions: {},
                    callerOptions: f.extend({}, p)
                }).actions = a(e.actions, "gallery", "onComponentDidMount", d),
                e.actions = a(e.actions, "galleryList", "onComponentDidMount", i),
                e.actions = a(e.actions, "galleryList", "componentDidUpdate", n),
                e.actions = a(e.actions, "mediaList", "onComponentDidMount", r),
                e.actions = a(e.actions, "imageList", "onComponentDidMount", l),
                e.actions = a(e.actions, "galleryToolbar", "onComponentDidMount", s),
                e.actions = a(e.actions, "galleryToolbar", "onResetSortable", o),
                e.actions = a(e.actions, "checkboxSwitch", "onBeforeSwitch", c),
                e.toolbarInfo = {
                    onAddMedia: p.renderFlags.isUploadFlyoutMode ? m : eviivo.media.mediaList.triggerOsFileSelector
                },
                eviivo.jsx.render.gallery(e, t.parent()[0], t[0]))
            }
        })
    },
    356: function() {
        function e(e) {
            if (e.target.classList.contains("s-drag-false"))
                return !1
        }
        function n() {
            var e;
            !0 === y.renderFlags.isFlyoutMode || !0 === y.renderFlags.isInlineMode || !1 === b || (e = !C(h.sortableTable).length,
            e = C(e ? h.gridItemDragHandler : h.sortableElementsTable),
            C(e).each(function(e, t) {
                C(t).data("draggable") && C(t).draggable("destroy")
            }),
            k.isSortable) || C(e).draggable({
                appendTo: h.mediaContainer,
                cursor: "grabbing",
                cursorAt: {
                    top: -6,
                    left: -12
                },
                drag: function(e, t) {
                    var n = 250
                      , i = 250
                      , o = C(h.gallerySidebar).outerWidth()
                      , a = C(h.gallerySidebar).position().left
                      , r = C(h.gallerySidebar).position().top
                      , l = r + 60
                      , s = C(h.gallerySidebar).position().left
                      , c = C(h.gallerySidebar).height() - 60
                      , d = e.pageX
                      , e = e.pageY
                      , a = a < d && d < o && r < e && e < l
                      , r = s < d && d < o && c < e
                      , l = C(h.gallerySidebar);
                    a && 0 !== l.scrollTop && l.stop(!0, !1).animate({
                        scrollTop: "-=" + n + "px"
                    }, i),
                    r && 1 < Math.abs(l[0].scrollHeight - l.scrollTop() - l.outerHeight()) && l.stop(!0, !1).animate({
                        scrollTop: "+=" + n + "px"
                    }, i)
                },
                helper: function() {
                    var e, t = null;
                    for (e in k.files) {
                        var n = k.files[e].dataPayload;
                        n.key == k.selectedItems[0] && (t = n.src)
                    }
                    return 1 < k.selectedItems.length ? C("<div class='cp-draggable-ghost cp-draggable-ghost_multi'><span class='cp-draggable-ghost_number'>" + k.selectedItems.length + "</span><div class='cp-draggable-ghost_image'><img src='" + t + "'/></div></div>") : C("<div class='cp-draggable-ghost'><span class='cp-draggable-ghost_number'>" + k.selectedItems.length + "</span><div class='cp-draggable-ghost_image'><img src='" + t + "'/></div></div>")
                },
                start: function(e, t) {
                    C(h.overlayContainer).addClass("md-main_dim"),
                    b = !1,
                    eviivo.media.galleryList.startDrag()
                },
                stop: function(e, t) {
                    C(h.overlayContainer).removeClass("md-main_dim"),
                    b = !0,
                    eviivo.media.galleryList.stopDrag()
                }
            })
        }
        function i(e) {
            var t;
            k.isSortable || (e.stopPropagation(),
            t = (t = C(e.target)).attr("data-item-key") || t.parents(".cp-media-item").attr("data-item-key"),
            k.selectedItems.indexOf(parseInt(t)) < 0 && c(e))
        }
        function o(e) {
            var t = e.target.files;
            if (1 <= t.length)
                for (var n = 0; n < t.length; n++)
                    G(t[n])
        }
        function t(e, t) {
            k.isSortable = e,
            p(),
            k.isSortable && v(),
            null != O && "function" == typeof O.onSortableChange && O.onSortableChange(k.isSortable, t),
            null != O && "function" == typeof O.onStateChangeHandler && O.onStateChangeHandler({
                isSortable: k.isSortable
            }),
            a(k.isSortable)
        }
        function a(e) {
            var t = !C(h.sortableTable).length
              , n = C(h.listGalleryItem)
              , i = C(h.mainContainer)
              , t = t ? h.sortableElementsGrid : h.sortableElementsTable;
            i.hasClass("ui-sortable") ? (k.isSortable = !1,
            i.sortable("destroy"),
            i.off("touchend touchmove touchstart"),
            C(n).droppable("option", "disabled", !1)) : e && (i.sortable({
                items: t,
                revert: 500,
                opacity: .75,
                tolerance: "pointer",
                placeholder: "ui-sortable-placeholder",
                start: function(e, t) {
                    t.placeholder.height(t.item.height()),
                    t.placeholder.width(t.item.width())
                },
                update: function() {
                    for (var e = C(this).sortable("toArray", {
                        attribute: "data-item-key"
                    }), t = (eviivo.media.dataTransfer.reOrderImages(e, y.galleryContext.referenceId, y.galleryContext.selectedGalleryCode, y.galleryContext.selectedEntityReference),
                    !C(h.sortableTable).length), n = C(h.galleryManagementMediaContainer).find(".cp-media-item_tag-main, .cp-media-table-orderIndex"), i = 0; i < n.length; i++) {
                        var o = t ? "".concat(i + 1) : "";
                        t ? C(n[i]).html(i ? o : "".concat(o, " ").concat(eviivo.media.translations.Label_Main_Image)) : C(n[i]).hasClass("cp-media-item_tag") ? (i - 1) / 2 == 0 ? (C(n[i]).html(eviivo.media.translations.Label_Main_Image),
                        C(n[i]).show()) : C(n[i]).hide() : C(n[i]).html("".concat(i / 2 + 1))
                    }
                }
            }),
            C(n).droppable("option", "disabled", !0),
            k.isSortable = e)
        }
        function r(e) {
            k.isSortable || Z(e) || (0 < C(h.selectedItems).length || 0 == C(h.selectedItems).length && 1 == y.renderFlags.isFlyoutMode ? c(e) : (e = (e = C(e.target)).attr("data-item-key") || e.parents(".cp-media-item").attr("data-item-key"),
            eviivo.media.categorize.show(e)))
        }
        function l(e) {
            k.isSortable || Z(e) || (e = (e = C(e.target)).attr("data-item-key") || e.parents(".cp-flex-table_row").attr("data-item-key"),
            eviivo.media.categorize.show(e))
        }
        function s(e) {
            k.isSortable || (e.stopPropagation(),
            c(e))
        }
        function c(e) {
            var t, n, e = C(e.target), i = e.attr("data-item-key") || e.parents(".cp-media-item").attr("data-item-key"), e = (e.parents(".cp-media-item").attr("id") || e.attr("id")).match(/\d+/)[0], o = k.selectedItems.indexOf(parseInt(i));
            for (n in -1 < o ? (k.selectedItems.splice(o, 1),
            k.files[e].dataPayload.isSelected = !1) : (null != y.numberOfSelectedItemsAllowed && k.selectedItems.length >= y.numberOfSelectedItemsAllowed && (t = k.selectedItems[0],
            null != (o = Object.entries(k.files).find(function(e) {
                return e[1].dataPayload.key === parseInt(t)
            }))) && null != o[1] && (k.selectedItems.splice(0, 1),
            o[1].dataPayload.isSelected = !1),
            k.selectedItems.push(parseInt(i)),
            void 0 !== k.files[e] && (k.files[e].dataPayload.isSelected = !0)),
            k.files)
                k.files[n].dataPayload.isSelectable = 0 < k.selectedItems.length && !k.files[n].dataPayload.isSelected;
            null != O && "function" == typeof O.onImageListStateChangeHandler && O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode),
            null != O && "function" == typeof O.onMediaSelectionChange && O.onMediaSelectionChange(k.selectedItems.length, k.files)
        }
        function d(e) {
            k.isSortable || (_ = !0,
            e.stopPropagation(),
            e.preventDefault(),
            e.originalEvent.dataTransfer.items && (C(".media-page").addClass("dragging"),
            C(h.mediaContainer).hasClass("media-embed") && C(h.dropZoneUI).css({
                top: C(h.galleryManagementMediaContainer).scrollTop()
            }),
            C(h.dropZoneUI).addClass("md-upload-mask_dragover-active")))
        }
        function u(e) {
            e.stopPropagation(),
            e.preventDefault(),
            e.originalEvent.dataTransfer.dropEffect = "copy"
        }
        function F(e) {
            _ = !0,
            e.stopPropagation(),
            e.preventDefault(),
            e.originalEvent.dataTransfer.dropEffect = "none"
        }
        function E(e) {
            (e.target.checked ? ee : v)()
        }
        function D(e) {
            var t = e.target
              , t = C(t).parents(".cp-flex-table_row").find("input[type=checkbox]").data("item-key");
            null != O && "function" == typeof O.onDelete && O.onDelete(e, t)
        }
        function G(e) {
            "function" == typeof e.file ? e.file(function(e) {
                eviivo.media.uploaderDataTransfer.incrementItems(),
                R++,
                B(e)
            }, function() {
                throw "err2"
            }) : (eviivo.media.uploaderDataTransfer.incrementItems(),
            R++,
            B(e))
        }
        function B(o) {
            e = o.name,
            I.lastIndex = 0,
            M.lastIndex = 0;
            var e, c = e.replace(I, "_").replace(M, "_");
            null != k.files[c] ? console.warn("image already uploaded") : (k.files[c] = {
                key: c,
                dataPayload: null,
                isImage: null,
                showPreload: !0
            },
            eviivo.media.restrictions.allRestrictions.galleries[y.galleryContext.selectedGalleryCode].checkUploadRestriction(c, o, function(e, t, n) {
                var a, r, l, s, i;
                k.files[e].dataPayload = t,
                k.files[e].isImage = !!n && 0 === n.toLowerCase().indexOf("image"),
                O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode),
                n && (a = c,
                r = k.files[e].isImage,
                l = o,
                s = n,
                (i = new FileReader).dataPayload = k.files[a].dataPayload,
                i.onload = function() {
                    var e = k.files[a];
                    e.dataPayload = l,
                    e.dataPayload.isImage = r,
                    e.dataPayload.tempSrc = i.result,
                    e.dataPayload.showPreload = !0,
                    O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode)
                }
                ,
                i.onloadend = function(e) {
                    r ? (i = a,
                    o = {
                        name: l.name,
                        type: s,
                        payload: e.target.result
                    },
                    (t = new Image).onload = function() {
                        document.createElement("canvas").getContext("2d").drawImage(this, 0, 0);
                        var e = ""
                          , t = this.naturalWidth
                          , n = this.naturalHeight
                          , t = (null != g && null != g.rezolution && null != g.rezolution.w && null != g.rezolution.h && (t < g.rezolution.w || n < g.rezolution.h) && (e += eviivo.media.translations.Label_Error_RequiredRezolutionNotMet.replace("{0}", g.rezolution.w + "x" + g.rezolution.h).replace("{1}", t + "x" + n)),
                        U(y.id, i))
                          , n = m(t);
                        "" !== e && ((n = n.find(".icon-bg-quality-low")).parent().attr("title", e),
                        n.removeClass("hide")),
                        eviivo.media.uploaderDataTransfer.process({
                            dataItem: {
                                itemPreviewContainerId: t,
                                key: i,
                                name: o.name,
                                type: o.type,
                                showPreload: !1,
                                payload: o.payload,
                                owner: y.galleryContext.referenceId,
                                ownerType: "PTY",
                                galleries: [{
                                    code: y.galleryContext.selectedGalleryCode,
                                    entity: y.galleryContext.selectedEntityReference
                                }]
                            },
                            actions: {
                                onUploadQueued: K,
                                onUploadStart: null,
                                onUploadProgress: X,
                                onUploadSuccess: null,
                                onUploadFail: function(e) {
                                    V(e)
                                },
                                onDetailsUpdateSuccess: function(e) {
                                    J(e)
                                },
                                onMediaUploadSuccess: function(e) {
                                    y.renderFlags.isFlyoutMode && O.onMediaUploadSuccess(z(e[0].FileType, e[0].Height, e[0].Width))
                                }
                            }
                        })
                    }
                    ,
                    t.src = o.payload) : (t = U(y.id, a),
                    eviivo.media.uploaderDataTransfer.process({
                        dataItem: {
                            itemPreviewContainerId: t,
                            key: a,
                            name: l.name,
                            type: s,
                            showPreload: !1,
                            payload: e.target.result,
                            owner: y.galleryContext.referenceId,
                            ownerType: "PTY",
                            galleries: [{
                                code: y.galleryContext.selectedGalleryCode,
                                entity: y.galleryContext.selectedEntityReference
                            }]
                        },
                        actions: {
                            onUploadQueued: K,
                            onUploadStart: null,
                            onUploadProgress: X,
                            onUploadSuccess: null,
                            onUploadFail: function(e) {
                                V(e)
                            },
                            onDetailsUpdateSuccess: function(e) {
                                J(e)
                            },
                            onMediaUploadSuccess: function() {
                                O.onMediaUploadSuccess(z(l.type))
                            }
                        }
                    })),
                    P++;
                    var i, o, t, e = parseInt(R / 5) + 1;
                    P % e == 0 && O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode)
                }
                ,
                i.readAsDataURL(l))
            }))
        }
        function z(t, e, n) {
            var i;
            y.renderFlags.isFlyoutMode && ((i = eviivo.media.restrictions.allRestrictions.flyOut[y.galleryContext.restrictMediaListFilesTo]) && 0 < i.filter(function(e) {
                return t.includes(e)
            }) && eviivo.webcore.notifier && eviivo.webcore.notifier.show || (i = eviivo.media.restrictions.allRestrictions.galleries[y.galleryContext.selectedGalleryCode].shortestSide,
            !t.includes("pdf") && n < i && e < i)) && eviivo.webcore.notifier.show({
                type: eviivo.webcore.notifier.types.warn,
                message: eviivo.media.translations.Label_Warning_FlyoutIncorrectType,
                autoHide: !0
            })
        }
        function U(e, t) {
            return "#" + e + "-image-item-preview-" + t
        }
        function H(e) {
            null != e && (e.isFile ? G(e) : e.isDirectory && e.createReader().readEntries(function(e) {
                for (var t = 0; t < e.length; t++)
                    H(e[t])
            }))
        }
        function W(e) {
            e.stopPropagation(),
            e.preventDefault();
            var t = e.originalEvent.dataTransfer.items;
            if (t && 0 < t.length) {
                C(h.loadingScreen).removeClass("hide"),
                O.onStateChangeHandler({
                    hasFiles: !0
                });
                for (var n = 0; n < t.length; n++)
                    ("function" == typeof t[n].webkitGetAsEntry || "function" == typeof t[n].getAsEntry) && H(t[n].webkitGetAsEntry())
            }
            q()
        }
        function Q(e) {
            (e.originalEvent.clientX <= 0 || e.originalEvent.clientY <= 0) && (_ = !1,
            clearTimeout(j),
            j = setTimeout(function() {
                _ || (e.stopPropagation(),
                e.preventDefault(),
                q())
            }, 250))
        }
        function q() {
            C(".media-page").removeClass("dragging"),
            C(h.dropZoneUI).removeClass("md-upload-mask_dragover-active")
        }
        function Z(e) {
            return null == e.target.closest("[data-item-key]")
        }
        function K(e) {
            e = e.itemPreviewContainerId;
            S.push(e),
            m(e).find(".cp-loader_circle").removeClass("hide").removeClass("cp-loader_loader").removeClass("cp-loader_spinner").addClass("cp-loader_loader")
        }
        function J(e) {
            var t = e.itemPreviewContainerId;
            m(t).find(".cp-loader_circle").removeClass("hide").removeClass("cp-loader_loader").removeClass("cp-loader_spinner").addClass("hide"),
            S = S.filter(function(e) {
                return e !== t
            })
        }
        function X(e, t) {
            m(e.itemPreviewContainerId).find(".cp-loader_circle .cp-loader_circle-inner").css("stroke-dashoffset", Math.floor(250 - 250 * t / 100) + "px")
        }
        function V(e) {
            k.files[e.key].dataPayload = {
                itemPreviewContainerId: e.itemPreviewContainerId.replace("#", ""),
                key: e.key,
                name: e.name,
                hasWarnings: !0,
                warnings: {
                    isUploadFailed: !0
                }
            },
            O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode);
            e = e.itemPreviewContainerId;
            C(e).find("img").remove()
        }
        function f(e) {
            e.stopPropagation(),
            e.preventDefault(),
            C(h.uploadFiles).val(""),
            C(h.uploadFiles).click()
        }
        function p(e) {
            null != y.galleryContext.selectedGalleryCode && eviivo.media.dataTransfer.retrieveMedia(y.galleryContext.referenceId, y.galleryContext.selectedGalleryCode, e, y.galleryContext.selectedEntityReference, !0 === y.renderFlags.isFlyoutMode, Y)
        }
        function Y(e) {
            $(e),
            O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode)
        }
        function $(e) {
            if (null != O && "function" == typeof O.onMediaListReturn && O.onMediaListReturn(null != e ? e.length : 0, k.isSortable),
            null != e) {
                k.files = {},
                k.selectedItems = [],
                1 != ne && (k.originalSelectedItems = []);
                var t, n = e;
                if (y.galleryContext.restrictMediaListFilesTo && (t = eviivo.media.restrictions.allRestrictions.flyOut,
                n = n.filter(function(e) {
                    return t[y.galleryContext.restrictMediaListFilesTo].includes(e.FileType.toUpperCase())
                })),
                null != n)
                    for (var i = Math.max.apply(Math, n.map(function(e) {
                        return e.OrderIndex
                    })), o = 0; o < n.length; o++) {
                        var a, r, l = null != n[o].OrderIndex ? n[o].OrderIndex : null != i ? ++i : o, s = "pdf" !== n[o].FileType;
                        null != A && !A && s || (null == N || N || s) && (!(a = !1) === y.renderFlags.isFlyoutMode && null != y.galleryContext.selectedEntityReference && (a = n[o].EntityReference == y.galleryContext.selectedEntityReference),
                        (a = null != L ? -1 < C.inArray(n[o].FileId, L) : a) && (r = n[o].Id,
                        k.originalSelectedItems.push(r),
                        k.selectedItems.push(r)),
                        r = null != e[o].UploadDate && y.cultureCode ? new Date(e[o].UploadDate).evDisplayMediumTimeDate(y.cultureCode) : null,
                        k.files[l] = {
                            key: l,
                            dataPayload: {
                                isSelected: a,
                                itemPreviewContainerId: l,
                                key: n[o].Id,
                                fileId: n[o].FileId,
                                name: n[o].Name,
                                mediaTypeDescription: n[o].MediaTypeDescription,
                                galleriesCount: n[o].GalleriesCount,
                                date: r,
                                hasWarnings: !1,
                                src: n[o].Url,
                                isImage: s,
                                order: n[o].OrderIndex,
                                fileType: n[o].FileType,
                                mediaTypeCode: n[o].MediaTypeCode,
                                width: n[o].Width,
                                height: n[o].Height,
                                masterFlag: n[o].MasterFlag,
                                mediaQuality: n[o].MediaQualityCodes,
                                captions: n[o].Captions
                            }
                        })
                    }
            }
        }
        function v() {
            for (var e in k.selectedItems = [],
            k.files)
                k.files[e].dataPayload.isSelected = !1,
                k.files[e].dataPayload.isSelectable = !1;
            null != O && "function" == typeof O.onImageListStateChangeHandler && O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode),
            null != O && "function" == typeof O.onMediaSelectionChange && O.onMediaSelectionChange(k.selectedItems.length, k.files),
            eviivo.media.toolbar.refreshToolbarState(0, !1, null, null, !1, !0)
        }
        function ee() {
            k.selectedItems = [];
            var e = 0 < C(h.listItem).length ? C(h.listItem) : C(h.gridItem)
              , i = 0
              , o = !1;
            e.each(function(e, t) {
                if (null != y.numberOfSelectedItemsAllowed) {
                    if (o)
                        return;
                    if (i === y.numberOfSelectedItemsAllowed)
                        return te(eviivo.media.translations.Label_Warning_SelectionMaxLimit.replace("{0}", y.numberOfSelectedItemsAllowed)),
                        void (o = !0)
                }
                var n = C(t).attr("data-item-key")
                  , t = (k.selectedItems.push(parseInt(n)),
                i++,
                Object.entries(k.files).find(function(e) {
                    return e[1].dataPayload.key === parseInt(n)
                }));
                null != t && null != t[1] && (t[1].dataPayload.isSelected = !0,
                t[1].dataPayload.isSelectable = !1)
            }),
            null != O && "function" == typeof O.onImageListStateChangeHandler && O.onImageListStateChangeHandler(k.files, y.galleryContext.selectedGalleryCode),
            null != O && "function" == typeof O.onMediaSelectionChange && O.onMediaSelectionChange(k.selectedItems.length, k.files),
            eviivo.media.toolbar.refreshToolbarState(i, k.files, null, null, !1, !0)
        }
        function te(e) {
            eviivo.webcore.notifier && eviivo.webcore.notifier.show && eviivo.webcore.notifier.show({
                type: eviivo.webcore.notifier.types.warn,
                message: e,
                autoHide: !0
            })
        }
        function m(e) {
            return C(document.getElementById(e))
        }
        var y, g, h, ne, b, w, C, x, O, S, _, j, I, M, k, T, R, P, L, N, A;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.mediaList = (w = "eviivo.media.mediaList",
        C = window.jQuery,
        x = {},
        O = {},
        _ = !(S = []),
        j = -1,
        I = new RegExp("W","g"),
        M = new RegExp(" ","g"),
        k = {
            files: {},
            selectedItems: [],
            isSortable: !1
        },
        P = R = 0,
        A = N = L = T = null,
        {
            init: function(t) {
                C = window.jQuery,
                y = C.extend({}, t.callerOptions),
                O = C.extend({}, O, t.handlers),
                g = C.extend({}, t.serverConfigurationRestrictions);
                try {
                    if (null == y.id)
                        throw w + ": unique id argument must be supplied"
                } catch (e) {
                    return console.error(e),
                    void console.error(t)
                }
                eviivo.media.uploaderDataTransfer.init(y),
                x.dragover = "dragover." + w,
                x.dragenter = "dragenter." + w,
                x.drop = "drop." + w,
                x.dragleave = "dragleave." + w,
                x.click = "click." + w,
                x.change = "change." + w,
                x.mousedown = "mousedown." + w,
                x.mouseover = "mouseover." + w,
                x.dragstart = "dragstart." + w,
                t = "#" + y.id,
                h = {
                    mainContainer: t,
                    selectFolderOrFiles: t + "-select-files",
                    dropZone: t + " .s-mod-drop-zone",
                    dropZoneUI: t + " .md-upload-mask",
                    loadingScreen: t + "-image-list-placeholder",
                    uploadFiles: t + "-upload-files",
                    gridItem: t + " .s-media-item",
                    gridItemCheckBox: t + " .cp-media-item_select",
                    listItem: t + " .cp-flex-table_row:not(.cp-flex-table_header) .cp-custom-input input[type=checkbox]",
                    listItemImage: t + " .cp-flex-table_row:not(.cp-flex-table_header) .cp-media-item_table-image, #edit-btn",
                    listGalleryItem: ".media-page aside a.s-gallery-item:not(.cp-media-card_active)",
                    checkBox: "#gallery-management-gallery-toolbar-checkbox",
                    selectAllCheckBox: t + " #select-all",
                    deleteMediaItem: t + " #delete-btn",
                    sortableTable: ".cp-flex-table_wrapper",
                    sortableElementsTable: ".cp-flex-table_row:gt(0)",
                    sortableElementsGrid: "div.cp-media-item",
                    mediaContainer: "#gallery-management",
                    selectedItems: ".cp-media-item_selected",
                    gridItemDragHandler: ".cp-media-item_drag-control",
                    overlayContainer: ".md-main",
                    gallerySidebar: ".media-page aside",
                    galleryManagementMediaContainer: "#gallery-management-media-container"
                },
                C(document).off(x.dragstart, e).on(x.dragstart, e),
                C(document).off(x.dragenter, d).on(x.dragenter, d),
                C(document).off(x.dragover, F).on(x.dragover, F),
                C(document).off(x.dragover, h.dropZoneUI, u).on(x.dragover, h.dropZoneUI, u),
                C(document).off(x.drop, h.dropZoneUI, W).on(x.drop, h.dropZoneUI, W),
                C(document).off(x.dragleave, Q).on(x.dragleave, Q),
                C(document).off(x.click, h.selectFolderOrFiles, f).on(x.click, h.selectFolderOrFiles, f),
                C(document).off(x.click, h.gridItem, r).on(x.click, h.gridItem, r),
                C(document).off(x.click, h.gridItemCheckBox, s).on(x.click, h.gridItemCheckBox, s),
                C(document).off(x.click, h.listItem, s).on(x.click, h.listItem, s),
                C(document).off(x.click, h.listItemImage, l).on(x.click, h.listItemImage, l),
                C(document).off(x.change, h.selectAllCheckBox, E).on(x.change, h.selectAllCheckBox, E),
                C(document).off(x.click, h.deleteMediaItem, D).on(x.click, h.deleteMediaItem, D),
                C(document).off(x.change, h.uploadFiles, o).on(x.change, h.uploadFiles, o),
                C(document).off(x.mouseover, h.gridItemDragHandler, n).on(x.mouseover, h.gridItemDragHandler, n),
                C(document).off(x.mousedown, h.gridItemDragHandler, i).on(x.mousedown, h.gridItemDragHandler, i),
                p()
            },
            setHandlers: function(e) {
                T = null,
                O = C.extend({}, O, e.handlers)
            },
            onGallerySelect: function(e, t) {
                y.galleryContext.selectedEntityReference = null == t ? null : t,
                !(t = null) !== y.renderFlags.isInlineMode && !0 !== y.renderFlags.isFlyoutMode || (t = y.galleryContext.selectedGalleryCode),
                null == T && (T = y.galleryContext.selectedGalleryCode,
                ne = !0),
                y.galleryContext.selectedGalleryCode = e,
                k.files = {},
                k.selectedItems = [],
                null != O && "function" == typeof O.onMediaSelectionChange && O.onMediaSelectionChange(k.selectedItems.length, k.files),
                null != O && "function" == typeof O.onStateChangeHandler && O.onStateChangeHandler({
                    sortable: !1
                }),
                a(!1),
                p(t)
            },
            clearSelection: v,
            selectAll: ee,
            triggerOsFileSelector: f,
            refreshMediaList: p,
            useSelectedImage: function(e) {
                var t = null;
                if (null != k.originalSelectedItems)
                    for (var t = [], n = 0; n < k.originalSelectedItems.length; n++)
                        k.selectedItems.indexOf(k.originalSelectedItems[n]) < 0 && t.push(k.originalSelectedItems[n]);
                var i = y.galleryContext.selectedGalleryCode
                  , o = {
                    MediaIds: [],
                    MediaIdsToRemove: t,
                    GalleryLinks: [{
                        Code: i = "all_media" === i ? T : i,
                        EntityReference: y.galleryContext.selectedEntityReference
                    }]
                };
                null == i ? null != y.galleryContext.useSelectedImageCallback && "function" == typeof y.galleryContext.useSelectedImageCallback && y.galleryContext.useSelectedImageCallback(Object.values(k.files).filter(function(e) {
                    return e.dataPayload.isSelected
                })) : (i = eviivo.media.restrictions.allRestrictions.galleries[i].checkOnAssignToGalleryRestrictions(Object.values(k.files).filter(function(e) {
                    return e.dataPayload.isSelected
                })),
                o.MediaIds = i,
                eviivo.media.dataTransfer.assignMediaToGalleriesWithMasterFlag(y.galleryContext.referenceId, o, function() {
                    v(),
                    null != e && "function" == typeof e && e()
                }, function() {
                    v()
                }))
            },
            initDroppable: function() {
                var e;
                !1 === b || !0 === y.renderFlags.isFlyoutMode || !0 === y.renderFlags.isInlineMode || k.isSortable || (e = C(h.listGalleryItem),
                C(e).droppable({
                    tolerance: "pointer",
                    drop: function(e, t) {
                        b = !0;
                        var n = C(this)
                          , i = eviivo.media.restrictions.allRestrictions.galleries[n.attr("data-gallery-code")].checkOnAssignToGalleryRestrictions(Object.values(k.files).filter(function(e) {
                            return e.dataPayload.isSelected
                        }));
                        i && i.length && (i = {
                            MediaIds: i,
                            GalleryLinks: [{
                                Code: n.attr("data-gallery-code"),
                                EntityReference: n.attr("data-entity-reference")
                            }]
                        },
                        eviivo.media.dataTransfer.assignMediaToGalleriesWithMasterFlag(y.galleryContext.referenceId, i, function() {
                            v(),
                            null != O && "function" == typeof O.onGalleryAssign && O.onGalleryAssign()
                        }, function() {
                            v()
                        }))
                    }
                }))
            },
            handleSortable: t,
            sortableToggleHandler: function(e) {
                return C(h.gridItem).length < 1 && C(h.listItem).length < 1 ? (te(eviivo.media.translations.Label_Warning_NothingToReorder),
                e.preventDefault(),
                !1) : (t(e.target.checked),
                !0)
            },
            useSelectedImageAsPreview: function(t, e) {
                var n = null;
                if (null != k.originalSelectedItems)
                    for (var n = [], i = 0; i < k.originalSelectedItems.length; i++)
                        k.selectedItems.indexOf(k.originalSelectedItems[i]) < 0 && n.push(k.originalSelectedItems[i]);
                e(n),
                eviivo.media.dataTransfer.retrieveImagePreview(k.selectedItems, y.galleryContext.referenceId, function(e) {
                    v(),
                    null != t && "function" == typeof t && t(e)
                }, function() {
                    v()
                })
            },
            refreshMediaWithJSXCallback: function(e, n) {
                eviivo.media.dataTransfer.retrieveMedia(e.galleryContext.referenceId, e.galleryContext.selectedGalleryCode, null, e.galleryContext.selectedEntityReference, !1, function(e) {
                    var t;
                    t = n,
                    $(e),
                    t(k)
                })
            },
            updatePreviouslySelectedItems: function(e) {
                L = e
            },
            setAllowImages: function(e) {
                A = e
            },
            setAllowFiles: function(e) {
                N = e
            }
        })
    },
    209: function() {
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.polyfill = (Object.entries || (Object.entries = function(e) {
            for (var t = Object.keys(e), n = t.length, i = new Array(n); n--; )
                i[n] = [t[n], e[t[n]]];
            return i
        }
        ),
        Object.find || Object.defineProperty(Array.prototype, "find", {
            value: function(e) {
                var t = Object(this)
                  , n = t.length >>> 0;
                if ("function" != typeof e)
                    throw new TypeError("predicate must be a function");
                for (var i = arguments[1], o = 0; o < n; ) {
                    var a = t[o];
                    if (e.call(i, a, o, t))
                        return a;
                    o++
                }
            },
            configurable: !0,
            writable: !0
        }),
        Object.includes || Object.defineProperty(Array.prototype, "includes", {
            value: function(e, t) {
                var n = Object(this)
                  , i = n.length >>> 0;
                if (0 != i)
                    for (var o, a, t = 0 | t, r = Math.max(0 <= t ? t : i - Math.abs(t), 0); r < i; ) {
                        if ((o = n[r]) === (a = e) || "number" == typeof o && "number" == typeof a && isNaN(o) && isNaN(a))
                            return !0;
                        r++
                    }
                return !1
            }
        }),
        Object.closest || (Element.prototype.closest = function(e) {
            var t, n = (this.document || this.ownerDocument).querySelectorAll(e), i = this;
            do {
                for (t = n.length; 0 <= --t && n.item(t) !== i; )
                    ;
            } while (t < 0 && (i = i.parentElement));
            return i
        }
        ),
        Object.values || (Object.values = function(t) {
            return Object.keys(t).map(function(e) {
                return t[e]
            })
        }
        ),
        void (Array.prototype.filter || (Array.prototype.filter = function(e, t) {
            "use strict";
            if ("Function" != typeof e && "function" != typeof e || !this)
                throw new TypeError;
            var n = this.length >>> 0
              , i = new Array(n)
              , o = this
              , a = 0
              , r = -1;
            if (void 0 === t)
                for (; ++r != n; )
                    r in this && e(o[r], r, o) && (i[a++] = o[r]);
            else
                for (; ++r != n; )
                    r in this && e.call(t, o[r], r, o) && (i[a++] = o[r]);
            return i.length = a,
            i
        }
        )))
    },
    289: function() {
        function i(n, i) {
            var e, t = "#" + n.internalOptions.id, t = {
                mainContainer: t,
                selectImage: t + " .s-select-image",
                removeImage: t + "  .s-remove-image",
                imagePreview: t + " .s-preview-item"
            }, o = {
                click: "click." + m
            };
            null != n.internalOptions && (e = n.internalOptions.galleryContext).enableExternalSave && (h.code = e.selectedGalleryCode,
            h.entityReference = e.selectedEntityReference,
            h.referenceId = e.referenceId),
            v(document).on(o.click, t.selectImage, function(e) {
                var l, t;
                l = n,
                t = i,
                e.preventDefault(),
                eviivo.media.flyOut.load({
                    headerTitle: eviivo.media.translations.Flyout_Title_SelectImages,
                    bodyQuestion: null,
                    cancelButtonText: eviivo.media.translations.Button_Cancel,
                    saveButtonText: eviivo.media.translations.Button_UseImages,
                    settings: {
                        disableSaveByDefault: !0
                    },
                    handlers: {
                        onSave: function(e) {
                            var o, a, r;
                            o = e,
                            r = t,
                            (a = l).internalOptions.galleryContext.enableExternalSave ? eviivo.media.mediaList.useSelectedImageAsPreview(function(e) {
                                var t, n, i;
                                eviivo.media.flyOut.close(o),
                                n = r,
                                e = e,
                                null != (i = (t = a).internalOptions.galleryContext.selectedEntityReference) ? (y[i] = e,
                                h.onSaveAssignFiles.push({
                                    id: y[i].Id,
                                    reference: i
                                }),
                                f(n, i, t)) : n({
                                    is404: !0,
                                    src: null
                                })
                            }, function(e) {
                                e.forEach(function(e) {
                                    return h.onSaveRemoveFiles.push({
                                        id: e,
                                        reference: a.internalOptions.galleryContext.selectedEntityReference
                                    })
                                })
                            }) : eviivo.media.mediaList.useSelectedImage(function() {
                                eviivo.media.flyOut.close(o),
                                u(a, r)
                            })
                        },
                        onRenderBody: function(e, t) {
                            var n = v("#" + e)
                              , i = {
                                actions: {},
                                callerOptions: v.extend({}, l.internalOptions),
                                dataObject: null
                            }
                              , e = (i.callerOptions.id = e,
                            i.callerOptions.renderFlags = {
                                isFlyoutMode: !0
                            },
                            null == i.callerOptions.galleryContext.numberOfSelectedItemsAllowed ? i.callerOptions.numberOfSelectedItemsAllowed = 1 : i.callerOptions.numberOfSelectedItemsAllowed = i.callerOptions.galleryContext.numberOfSelectedItemsAllowed,
                            i.actions = a(i.actions, "gallery", "onComponentDidMount", r),
                            i.actions = a(i.actions, "mediaList", "onComponentDidMount", s),
                            i.actions = a(i.actions, "imageList", "onComponentDidMount", c),
                            i.actions = a(i.actions, "galleryToolbar", "onComponentDidMount", d),
                            {
                                onAddMedia: eviivo.media.mediaList.triggerOsFileSelector
                            });
                            i.toolbarInfo = e,
                            eviivo.jsx.render.gallery(i, n.parent()[0], n[0])
                        }
                    }
                })
            }),
            v(document).on(o.click, t.removeImage, function(e) {
                var a = n
                  , r = i;
                e.preventDefault(),
                null == v(e.target).parents(".s-media-preview").find("img").attr("data-item-id") && v(e.target).parents(".s-media-preview").find("svg").attr("data-item-id"),
                eviivo.webcore.notifier && eviivo.webcore.notifier.show && (eviivo.webcore.notifier.show({
                    type: eviivo.webcore.notifier.types.warn,
                    message: eviivo.media.translations.Label_Warning_ConfirmRemoveMediaAssignment,
                    style: eviivo.webcore.notifier.styles.withTwoActions,
                    autoHide: !1,
                    buttonOne: "<button class='btn btn-secondary' id='ntf-dlt-cancel'>" + eviivo.media.translations.Button_Cancel + "</button>",
                    buttonTwo: "<button class='btn btn-right btn-red' id='ntf-rmv-confirm'>" + eviivo.media.translations.Button_Ok + "</button>"
                }),
                v("#ntf-rmv-confirm").on("click", function(e) {
                    var t, n = a, i = r, o = n.internalOptions.galleryContext.selectedEntityReference;
                    n.internalOptions.galleryContext.enableExternalSave ? (h.onSaveRemoveFiles.push({
                        id: y[o].Id,
                        reference: o
                    }),
                    l(o, n, i)) : (t = {
                        GalleryKey: n.internalOptions.galleryContext.selectedGalleryCode,
                        MediaExternalEntities: [{
                            MediaId: y[o].Id,
                            ExternalRef: o
                        }]
                    },
                    eviivo.media.dataTransfer.deleteBasedOnExternalReference(n.internalOptions.galleryContext.referenceId, t, function() {
                        l(o, n, i)
                    }, function() {
                        eviivo.media.mediaList.clearSelection()
                    }))
                }))
            })
        }
        function a(e, t, n, i) {
            return null == (e = null == e ? {} : e)[t] && (e[t] = {}),
            null == e[t][n] && (e[t][n] = i),
            e
        }
        function r(e, t) {}
        function s(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.mediaList)
                throw m + ": js module eviivo.media.mediaList not found";
            t = {
                actions: t.internalActions,
                callerOptions: v.extend({}, t.internalOptions)
            };
            t.handlers = {
                onStateChangeHandler: e
            },
            eviivo.media.mediaList.setHandlers(t)
        }
        function c(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.mediaList)
                throw m + ": js module eviivo.media.mediaList not found";
            t = {
                actions: t.internalActions,
                callerOptions: v.extend({}, t.internalOptions)
            };
            t.handlers = {
                onImageListStateChangeHandler: e,
                onMediaSelectionChange: function(e, t) {
                    eviivo.media.toolbar.refreshToolbarState(e, null, null, null, null, t),
                    eviivo.media.flyOut.toggleSave(0 < e)
                },
                onMediaUploadSuccess: eviivo.media.mediaList.refreshMediaList,
                onGalleryAssign: function() {
                    eviivo.media.mediaList.refreshMediaList()
                }
            },
            t.serverConfigurationRestrictions = g,
            eviivo.media.mediaList.init(t)
        }
        function d(e, t) {
            if ("undefined" == typeof eviivo || void 0 === eviivo.media || void 0 === eviivo.media.toolbar)
                throw m + ": js module eviivo.media.toolbar not found";
            t = {
                actions: t.internalActions,
                callerOptions: v.extend({}, t.internalOptions),
                dataObject: v.extend({}, t.dataObject)
            };
            t.handlers = {
                onStateChangeHandler: e,
                onSelectAll: eviivo.media.mediaList.selectAll,
                onClear: eviivo.media.mediaList.clearSelection,
                onAddMedia: eviivo.media.mediaList.triggerOsFileSelector,
                onGallerySelect: function(e, t) {
                    eviivo.media.mediaList.onGallerySelect(e, t)
                }
            },
            eviivo.media.toolbar.init(t)
        }
        function l(e, t, n) {
            "function" == typeof n && (n({
                is404: !1,
                image: null
            }),
            null != e) && (y[e] = {},
            null !== t.internalOptions.galleryContext.updateStateWindowEvent) && !0 === t.internalOptions.galleryContext.updateStateWindowEvent && null != window.headerCallback && "function" == typeof window.headerCallback && window.headerCallback(y[e].Id, y[e].FileId, y[e].FileType)
        }
        function n(n) {
            var e = v("#" + n.internalOptions.id)
              , t = {
                actions: {
                    mediaPreview: {
                        onComponentDidMount: function(e, t) {
                            i(t, e),
                            u(n, e)
                        }
                    }
                },
                callerOptions: v.extend({}, n.internalOptions)
            };
            eviivo.jsx.render.mediaPreview(t, e.parent()[0], e[0])
        }
        function u(e, n) {
            var i = e.internalOptions.galleryContext;
            eviivo.media.dataTransfer.retrieveMedia(i.referenceId, i.selectedGalleryCode, null, i.selectedEntityReference, !1, function(e) {
                var t = i.selectedEntityReference;
                null != e && 0 < e.length && null != t ? (y[t] = e[0],
                f(n, t, null)) : n({
                    is404: !0,
                    image: null
                })
            }, function() {
                n({
                    is404: !0,
                    src: null
                })
            })
        }
        function f(e, t, n) {
            e({
                is404: !1,
                image: y[t]
            }),
            null != n && null != n.internalOptions && null !== n.internalOptions.galleryContext.updateStateWindowEvent && !0 === n.internalOptions.galleryContext.updateStateWindowEvent && null != window.headerCallback && "function" == typeof window.headerCallback && window.headerCallback(y[t].FileId, y[t].FileType)
        }
        function o() {
            var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : null;
            for (0 < h.onSaveRemoveFiles.length && (t = {
                GalleryKey: h.code,
                MediaExternalEntities: []
            },
            h.onSaveRemoveFiles.forEach(function(e) {
                return t.MediaExternalEntities.push({
                    MediaId: e.id,
                    ExternalRef: e.reference
                })
            }),
            eviivo.media.dataTransfer.deleteBasedOnExternalReference(h.referenceId, t)); 0 < h.onSaveAssignFiles.length; ) {
                var n = !(i = n = void 0)
                  , i = h.onSaveAssignFiles.pop();
                n = {
                    MediaIds: n ? [i.id] : null,
                    MediaIdsToRemove: n ? null : [i.id],
                    GalleryLinks: [{
                        Code: h.code,
                        EntityReference: i.reference
                    }]
                },
                eviivo.media.dataTransfer.assignMediaToGalleries(h.referenceId, n, null, null)
            }
            null != e && e()
        }
        function p(t, n) {
            for (var e = [], i = 0; i < t.length; i++) {
                var o = h.onSaveAssignFiles.filter(function(e) {
                    return e.reference.includes(n) && e.reference.replace(/[^\d.]/g, "") == t[i].Item2
                });
                0 < o.length && e.push({
                    MediaIds: [o[0].id],
                    MediaIdsToRemove: null,
                    GalleryLinks: [{
                        Code: h.code,
                        EntityReference: n + "_email_" + t[i].Item1
                    }]
                })
            }
            return e
        }
        var v, m, y, g, h;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.preview = (m = "eviivo.media.preview",
        y = {},
        g = {},
        h = {
            onSaveRemoveFiles: [],
            onSaveAssignFiles: [],
            code: null,
            entityReference: [],
            referenceId: null
        },
        {
            init: function(e) {
                g = e,
                v = window.jQuery
            },
            create: function(e) {
                var t = {
                    internalOptions: v.extend({}, e),
                    show: function() {
                        n(t)
                    }
                };
                return null != t.internalOptions && !0 === t.internalOptions.showByDefault && n(t),
                t
            },
            getImageInfo: function() {
                return y
            },
            onExternalSaveUpdateMedia: o,
            onExternalSaveUpdateMediaWithNewFeatureIds: function(e) {
                var t, n = [], i = e.EmailFeatures;
                i && (t = p(i.NewImageFeatures, "image"),
                i = p(i.newButtonFeatures, "button"),
                Array.prototype.push.apply(n, t),
                Array.prototype.push.apply(n, i),
                eviivo.media.dataTransfer.bulkAssignMediaToGalleries(h.referenceId, n, function() {
                    window.location.href = e.RedirectTo
                }, null))
            },
            updateReferenceOnManualSaveAndSave: function(e, t) {
                $.each(h.onSaveAssignFiles, function() {
                    this.reference = e
                }),
                o(t)
            }
        })
    },
    793: function() {
        function n(e, t) {
            o.extend({}, t.internalOptions),
            s.onStateChangeHandler = e
        }
        function t() {
            null != s && ("function" == typeof s.onStateChangeHandler && s.onStateChangeHandler({
                updateSliderAction: "prev"
            }),
            "function" == typeof s.onButtonPrevClick) && s.onButtonPrevClick()
        }
        function i() {
            null != s && ("function" == typeof s.onStateChangeHandler && s.onStateChangeHandler({
                updateSliderAction: "next"
            }),
            "function" == typeof s.onButtonNextClick) && s.onButtonNextClick()
        }
        var o, a, r, l, s;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.slideControls = (r = "eviivo.media.slideControls",
        l = {},
        s = {},
        {
            init: function(e) {
                o = window.jQuery,
                null != e && o.extend({}, e.callerOptions),
                s = null != e ? o.extend({}, s, e.handlers) : {},
                l.click = "click." + r,
                a = {
                    prevButton: "#arrow-left",
                    nextButton: "#arrow-right"
                },
                o(document).on(l.click, a.prevButton, t),
                o(document).on(l.click, a.nextButton, i)
            },
            refreshSlideControls: function(e, t) {
                return null != s && "function" == typeof s.onStateChangeHandler && s.onStateChangeHandler({
                    updateSliderAction: e
                }),
                "function" == typeof s.onRefresh ? s.onRefresh(e, t) : null
            },
            loadAndRender: function(e) {
                var t = (o = window.jQuery).extend({}, e);
                eviivo.jsx.render.slideControls({
                    actions: {
                        slideControls: {
                            onComponentDidMount: n
                        }
                    }
                }, o(e.container)[0]),
                null != s && "function" == typeof s.onStateChangeHandler && s.onStateChangeHandler(t)
            }
        })
    },
    542: function() {
        function e(e) {
            e.stopPropagation()
        }
        function n() {
            null != w && "function" == typeof w.onCategorize && w.onCategorize()
        }
        function i() {
            null != w && "function" == typeof w.onAssignGalleries && w.onAssignGalleries(m, y)
        }
        function o(e) {
            null != w && "function" == typeof w.onAssignMediaType && w.onAssignMediaType(e)
        }
        function a(e, t) {
            var n = [];
            null != t ? n.push(t) : (l(e),
            v(g.selectedImages).each(function(e, t) {
                n.push(v(t).attr("data-item-key"))
            })),
            eviivo.media.dataTransfer.tryDeleteMedia(m.galleryContext.referenceId, y.selectedGalleryCode, y.selectedEntityReference, n, function() {
                null != w && "function" == typeof w.onDelete && w.onDelete(e)
            })
        }
        function r(e) {
            ("key"in (e = e || window.event) ? "Escape" === e.key || "Esc" === e.key : 27 === e.keyCode) && (y.showMenuList && (y.showMenuList = !y.showMenuList),
            u(),
            w.onStateChangeHandler(y))
        }
        function l(e) {
            e.stopPropagation(),
            e.preventDefault(),
            null != w && "function" == typeof w.onStateChangeHandler && (y.showMenuList = !y.showMenuList,
            w.onStateChangeHandler(y))
        }
        function s() {
            null != w && "function" == typeof w.onStateChangeHandler && (y.showMenuList = !1,
            w.onStateChangeHandler(y))
        }
        function c(e, t, n, i, o, a) {
            y.allItems = null != t ? t : [],
            y.selectedMediaCount = null != e ? e : y.selectedMediaCount,
            y.selectedGalleryCode = null != n ? n : y.selectedGalleryCode,
            y.selectedEntityReference = "room_types" === y.selectedGalleryCode ? null != i ? i : y.selectedEntityReference : null,
            y.sortable = o,
            y.showMenuList = !1,
            y.resetSortable = a,
            null != w && "function" == typeof w.onStateChangeHandler && w.onStateChangeHandler(y)
        }
        function d(e) {
            null != w && "function" == typeof w.onSelectAll && w.onSelectAll()
        }
        function u(e) {
            null != w && "function" == typeof w.onClear && w.onClear()
        }
        function f(e) {
            var e = v(e.target)
              , t = v("".concat(g.propertySwitch, " option:selected"))
              , e = e.val()
              , t = (t.text(),
            t.attr("data-id"))
              , n = eviivo.media.main.getOptions();
            n.placeholders[0].galleryContext.refresh = !0,
            n.businessId = t,
            n.placeholders[0].galleryContext.referenceId = e,
            $("#pms-fly-out").remove(),
            eviivo.media.main.updateOptions(n),
            $(".s-select-image").click()
        }
        function p(e) {
            var e = v(e.target)
              , t = e.val()
              , e = e.find("option[value='" + t + "']").attr("data-entity-reference");
            null != t && "" !== t && (c(null, null, t, e, !1, !0),
            null != w) && "function" == typeof w.onGallerySelect && w.onGallerySelect(t, e)
        }
        var v, m, y, g, h, b, w;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.toolbar = (h = "eviivo.media.toolbar",
        b = {},
        w = {},
        {
            init: function(t) {
                v = window.jQuery,
                m = v.extend({}, t.callerOptions),
                w = v.extend({}, w, t.handlers),
                y = v.extend({}, t.dataObject);
                try {
                    if (null == m.id)
                        throw h + ": unique id argument must be supplied"
                } catch (e) {
                    return console.error(e),
                    void console.error(t)
                }
                b.click = "click." + h,
                b.change = "change." + h,
                b.keyup = "keyup." + h,
                b.touchstart = "touchstart." + h,
                t = "#" + m.id,
                g = {
                    body: "body",
                    mainContainer: t,
                    bulkActions: {
                        id: t + "-bulk-actions",
                        categorize: t + "-categorize",
                        addToGallery: t + "-add-to-gallery",
                        setMediaType: t + "-set-media-type",
                        delete: t + "-delete",
                        menu: ".cp-menu-list"
                    },
                    assignGalleryFlyOut: "#gallery-management-assign-gallery-fly-out",
                    assignTypeFlyOut: "#gallery-management-assign-type-fly-out",
                    selectedImages: ".cp-media-item.cp-media-item_selected, .cp-flex-table_row:not(.cp-flex-table_header) .cp-custom-input input[type=checkbox]:checked",
                    selectAll: ".s-media-select-all:not(.disabled)",
                    clearSelection: ".s-media-clear-selection:not(.disabled)",
                    gallerySwitch: ".s-gallery-switch",
                    propertySwitch: ".s-property-switch",
                    allMediaItems: ".cp-media-item"
                },
                v(document).off(b.click + " " + b.touchstart, g.body, s).on(b.click + " " + b.touchstart, g.body, s),
                v(document).off(b.click + " " + b.touchstart, g.bulkActions.menu, e).on(b.click + " " + b.touchstart, g.bulkActions.menu, e),
                v(document).off(b.click, g.bulkActions.id, l).on(b.click, g.bulkActions.id, l),
                v(document).off(b.click, g.bulkActions.categorize, n).on(b.click, g.bulkActions.categorize, n),
                v(document).off(b.click, g.bulkActions.addToGallery, i).on(b.click, g.bulkActions.addToGallery, i),
                v(document).off(b.click, g.bulkActions.setMediaType, o).on(b.click, g.bulkActions.setMediaType, o),
                v(document).off(b.click, g.bulkActions.delete, a).on(b.click, g.bulkActions.delete, a),
                v(document).off(b.click, g.selectAll, d).on(b.click, g.selectAll, d),
                v(document).off(b.click, g.clearSelection, u).on(b.click, g.clearSelection, u),
                v(document).off(b.change, g.gallerySwitch, p).on(b.change, g.gallerySwitch, p),
                v(document).off(b.change, g.propertySwitch, f).on(b.change, g.propertySwitch, f),
                v(document).off(b.keyup, r).on(b.keyup, r),
                !0 !== m.renderFlags.isInlineMode && !0 !== m.renderFlags.isFlyoutMode || eviivo.media.dataTransfer.retrieveGalleries(m.galleryContext.referenceId, function(e) {
                    null != w && "function" == typeof w.onStateChangeHandler && w.onStateChangeHandler({
                        galleries: e
                    })
                })
            },
            refreshToolbarState: c,
            refreshToolbarTotalItems: function(e, t) {
                y.selectedMediaCount = 0,
                y.selectedGalleryCode = y.selectedGalleryCode,
                y.sortable = t,
                y.showMenuList = !1,
                null != w && "function" == typeof w.onStateChangeHandler && w.onStateChangeHandler(y)
            },
            onDelete: a
        })
    },
    531: function() {
        function u() {
            b--
        }
        function i() {
            clearTimeout(l);
            var e, t = !1;
            for (e in a) {
                var n = a[e];
                null != n && (!0 !== n.isUploading && !0 !== n.isUploaded && !0 !== n.isError && y < r && (y++,
                ("true" == eviivo.media.dataTransfer.shouldUploadWithMultiPart() ? function(i) {
                    i.isUploading = !0,
                    null != i.actions && "function" == typeof i.actions.onUploadStart && i.actions.onUploadStart(i.dataItem);
                    var e = i.dataItem
                      , t = e.payload.indexOf("base64,")
                      , n = e.payload;
                    0 < t && (n = e.payload.substr(t + 7));
                    var o = new FormData
                      , a = (o.append("name", e.name),
                    o.append("type", e.type),
                    o.append("owner", e.owner),
                    o.append("ownerType", e.ownerType),
                    eviivo.media.dataTransfer.getChunkSize())
                      , r = n.length
                      , l = 0
                      , s = 0
                      , t = r / a
                      , e = (o.append("chunkTotal", t),
                    Math.floor(1e9 * Math.random()));
                    o.append("fileSessionId", e);
                    for (var c = 0; c < r + a; c += a) {
                        var d = n.slice(c, c + a);
                        o.delete("payload"),
                        o.append("payload", d),
                        o.delete("chunkIndex"),
                        o.append("chunkIndex", l),
                        l++,
                        eviivo.media.dataTransfer.uploadImage(o, function(e) {
                            ++s == l && (o.append("chunkMerge", "true"),
                            o.delete("chunkIndex"),
                            o.delete("chunkTotal"),
                            o.append("chunkTotal", l),
                            o.delete("payload"),
                            eviivo.media.dataTransfer.mergeImage(o, function(e) {
                                y--,
                                i.isUploading = !1,
                                i.isUploaded = !0,
                                i.storageProviderResponse = e,
                                u()
                            }))
                        }, function(e, t, n) {
                            u(),
                            f(i)
                        }, function(e) {
                            null != i.actions && "function" == typeof i.actions.onUploadProgress && i.actions.onUploadProgress(i.dataItem, e)
                        })
                    }
                }
                : function(i) {
                    i.isUploading = !0,
                    null != i.actions && "function" == typeof i.actions.onUploadStart && i.actions.onUploadStart(i.dataItem);
                    var e = i.dataItem
                      , t = e.payload.indexOf("base64,")
                      , n = e.payload;
                    0 < t && (n = e.payload.substr(t + 7));
                    t = new FormData;
                    t.append("payload", n),
                    t.append("name", e.name),
                    t.append("type", e.type),
                    t.append("owner", e.owner),
                    t.append("ownerType", e.ownerType),
                    eviivo.media.dataTransfer.uploadImage(t, function(e) {
                        y--,
                        i.isUploading = !1,
                        i.isUploaded = !0,
                        i.storageProviderResponse = e,
                        u()
                    }, function(e, t, n) {
                        u(),
                        f(i)
                    }, function(e) {
                        null != i.actions && "function" == typeof i.actions.onUploadProgress && i.actions.onUploadProgress(i.dataItem, e)
                    })
                }
                )(n)),
                !0 === n.isUploaded && !0 !== n.isLinking && !0 !== n.isLinked && !0 !== n.isError && (g = null == g ? [] : g).length < c && g.push(n),
                !0 !== n.isUploaded) && !0 !== n.isLinked && !0 !== n.isError && 0 !== b && (t = !0)
            }
            null != g && g.length === c && !0 !== h && (h = !0,
            o()),
            !0 === t ? l = setTimeout(i, s) : 0 < g.length && !0 !== h && (h = !0,
            o())
        }
        function o() {
            if (null != g && 0 !== g.length) {
                for (var e = [], t = 0; t < g.length; t++) {
                    var n = g[t];
                    if (null == n)
                        console.warn(v + ": queue item in mediaDetailsProcessingQueue is empty (null).");
                    else if (n.isLinking = !0,
                    null == n.storageProviderResponse)
                        console.warn(v + ": queue item in mediaDetailsProcessingQueue has no storageProviderResponse.");
                    else {
                        var i = n.dataItem;
                        if (null == i || null == i.galleries || 0 === i.galleries.length)
                            console.warn(v + ": queue item in mediaDetailsProcessingQueue has no itemPayload or the itemPayload does not contain any galleries.");
                        else {
                            var n = null != n.storageProviderResponse && null != n.storageProviderResponse.files && 0 < n.storageProviderResponse.files.length && null != n.storageProviderResponse.files[0] && null != n.storageProviderResponse.files[0].File ? n.storageProviderResponse.files[0].File : null
                              , o = null != n ? n.Digest : null
                              , a = null != n ? n.Extension : null
                              , r = null != n ? n.Filename : null
                              , l = null != n ? n.Width : null
                              , n = null != n ? n.Height : null;
                            if (null == o || null == a)
                                console.warn(v + ": queue item in mediaDetailsProcessingQueue has no digest id response or no extension in response.");
                            else {
                                for (var s = {
                                    Id: null,
                                    FileId: o,
                                    FileType: a,
                                    Name: r,
                                    MediaTypeCode: null,
                                    Galleries: [],
                                    Width: l,
                                    Height: n
                                }, c = !0, d = 0; d < i.galleries.length; d++) {
                                    "all_media" === i.galleries[d].code && (c = !1);
                                    var u = eviivo.media.restrictions.allRestrictions.galleries[i.galleries[d].code];
                                    s.Galleries.push({
                                        Code: i.galleries[d].code,
                                        EntityReference: m.renderFlags.isFlyoutMode ? null : i.galleries[d].entity,
                                        ResolutionFlag: u.checkResolution(s.Width, s.Height, u.shortestSide),
                                        MediaTypeFlag: u.checkMediaTypeCodeRequired()
                                    })
                                }
                                !0 === c && s.Galleries.push({
                                    Code: "all_media"
                                }),
                                e.push(s)
                            }
                        }
                    }
                }
                0 === e.length ? console.warn(v + ": nothing to process for 'add media'. Data object is null or empty.") : eviivo.media.dataTransfer.addMedia(m.galleryContext.referenceId, e, function(e) {
                    if (e.Length <= 0)
                        p();
                    else {
                        for (var t = 0; t < g.length; t++) {
                            var n = g[t];
                            n.isLinked = !0,
                            n.isLinking = !1,
                            null != n.actions && "function" == typeof n.actions.onDetailsUpdateSuccess && n.actions.onDetailsUpdateSuccess(n.dataItem),
                            g[t] = null
                        }
                        g = null,
                        0 === b && (eviivo.media.mediaList.refreshMediaList(),
                        m.renderFlags) && m.renderFlags.refreshGalleries && eviivo.media.galleryList.refreshGalleries()
                    }
                    h = !1
                }, function(e, t, n) {
                    p()
                })
            }
        }
        function f(e) {
            y--,
            u(),
            e.isError = !0,
            e.isUploading = !1,
            0 === b && (eviivo.media.mediaList.refreshMediaList(),
            m.renderFlags && m.renderFlags.isFlyoutMode || eviivo.media.galleryList.refreshGalleries()),
            null != e.actions && "function" == typeof e.actions.onUploadFail && e.actions.onUploadFail(e.dataItem)
        }
        function p() {
            for (var e = 0; e < g.length; e++) {
                var t = g[e];
                t.isError = !0,
                t.isLinked = !1,
                t.isLinking = !1,
                f(t)
            }
            g = null,
            h = !1
        }
        var t, v, m, a, r, y, l, s, g, c, h, b;
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.uploaderDataTransfer = (v = "eviivo.media.uploaderDataTransfer",
        m = {},
        a = {},
        r = 5,
        l = null,
        s = 300,
        g = [],
        h = !(c = 15),
        b = y = 0,
        {
            init: function(e) {
                t = window.jQuery,
                m = t.extend({}, e)
            },
            process: function(e) {
                (a = null == a ? {} : a)[e.dataItem.key] = {
                    dataItem: e.dataItem,
                    isUploading: !1,
                    isUploaded: !1,
                    isLinked: !1,
                    isProcessing: !1,
                    isError: !1,
                    actions: e.actions
                },
                null != e.actions && "function" == typeof e.actions.onUploadQueued && e.actions.onUploadQueued(e.dataItem),
                i()
            },
            incrementItems: function() {
                b++
            }
        })
    },
    717: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = c(n), t = (e = i ? (e = c(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                return s(t)
            }
        }
        function s(e) {
            if (void 0 === e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }
        function c(e) {
            return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, t, d, i, u, f;
        e = "svgRender",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(d(f, e), t, n)
        }
        ,
        t = preact,
        d = t.h,
        i = t.render,
        u = t.Component,
        f = function() {
            var e = o
              , t = u;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).renderInnerHtml = e.renderInnerHtml.bind(s(e)),
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "renderInnerHtml",
                value: function(e, t) {
                    return '<svg class="'.concat(e, '" pointer-events="none">').concat(t, "</svg>")
                }
            }, {
                key: "render",
                value: function(e) {
                    return d("span", {
                        style: "margin:0;",
                        onClick: e.onClick ? function() {
                            return e.onClick()
                        }
                        : null,
                        dangerouslySetInnerHTML: {
                            __html: this.renderInnerHtml(e.cssClass, e.icon)
                        },
                        "data-item-id": e.dateItemId ? e.dataItemId : null
                    })
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = f
    },
    464: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = c(n), t = (e = i ? (e = c(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                return s(t)
            }
        }
        function s(e) {
            if (void 0 === e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }
        function c(e) {
            return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, t, d, i, u, f;
        e = "checkBox",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(d(f, e), t, n)
        }
        ,
        t = preact,
        d = t.h,
        i = t.render,
        u = t.Component,
        f = function() {
            var e = o
              , t = u;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).state = {
                        isChecked: !1,
                        internalActions: e.props.actions,
                        callback: e.props.callback
                    },
                    e.handleSwitch = e.handleSwitch.bind(s(e)),
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "handleSwitch",
                value: function(e) {
                    var t, n = this.state.internalActions;
                    null != n && (t = !0,
                    t = null != (n = n.checkboxSwitch) && "function" == typeof n.onBeforeSwitch ? n.onBeforeSwitch(e) : t) && (this.state.isChecked = !this.state.isChecked,
                    null != n) && "function" == typeof n.onAfterSwitch && n.onAfterSwitch(e),
                    "function" == typeof this.state.callback && this.state.callback(e)
                }
            }, {
                key: "render",
                value: function(e) {
                    return e.display ? (e.dataObject.resetSortable && (this.state.isChecked = !1),
                    d("div", {
                        className: "cp-inner-toolbar_section mr16"
                    }, d("div", {
                        className: "cp-slide-toggle"
                    }, d("input", {
                        type: "checkbox",
                        id: e.id + "-checkbox",
                        checked: this.state.isChecked,
                        onClick: this.handleSwitch
                    }), d("label", {
                        htmlFor: e.id + "-checkbox"
                    }, d("span", {
                        className: "label"
                    }, e.label), d("span", {
                        className: "slide"
                    }, d("span", {
                        className: "toggle"
                    })))))) : null
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = f
    },
    838: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = s(n), t = (e = i ? (e = s(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== t)
                    return t;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
        }
        function s(e) {
            return (s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, d, i, c, u;
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render.flyOut = function(e, t, n) {
            i(d(u, e), t, n)
        }
        ,
        e = preact,
        d = e.h,
        i = e.render,
        c = e.Component,
        u = function() {
            var e = o
              , t = c;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).state = {
                        dataObject: e.props.dataObject || {},
                        internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                        internalActions: e.props.actions
                    },
                    e.state.internalOptions.id += "-fly-out",
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "componentDidMount",
                value: function() {
                    var t = this
                      , n = t.state
                      , e = n.internalActions
                      , i = (e = null == e ? {
                        flyOut: null
                    } : e).flyOut;
                    null != i && "function" == typeof i.onComponentDidMount && (e = window.jQuery.extend(!0, {}, n),
                    i.onComponentDidMount(function(e) {
                        n.dataObject = e,
                        i.renderBody = null != e.handlers ? e.handlers.onRenderBody : null,
                        t.setState(n)
                    }, e))
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    var e = this.state
                      , t = e.internalActions;
                    null != t && null != (t = t.flyOut) && "function" == typeof t.renderBody && t.renderBody(e.internalOptions.id + "-body", e.internalOptions)
                }
            }, {
                key: "render",
                value: function() {
                    var e = eviivo.media.icons
                      , t = this.state
                      , n = t.dataObject
                      , t = t.internalOptions.id
                      , i = t + "-body"
                      , o = null != n.bodyQuestion ? d("p", null, n.bodyQuestion) : null
                      , a = null != n.headerTitle ? d("div", {
                        className: "h3 user-select-none s-drag-false",
                        draggable: "false"
                    }, n.headerTitle) : null
                      , r = "cp-flyout_overlay"
                      , l = (n.active && (r += " active"),
                    null != n.settings ? n.settings.disableSaveByDefault : null)
                      , s = null != n.saveAndContinueButtonText && null != n.settings && n.settings.showSaveAndContinueButton ? d("button", {
                        className: "s-save-and-continue btn btn-right mr8",
                        disabled: l
                    }, n.saveAndContinueButtonText) : null
                      , c = "categorize" !== n.flyoutContext || null == n.flyoutContext ? d("button", {
                        className: "s-cancel btn btn-secondary"
                    }, n.cancelButtonText) : d("button", {
                        className: "s-cancel btn btn-red"
                    }, n.cancelButtonText);
                    return d("section", {
                        className: r,
                        id: t
                    }, d("div", {
                        className: "cp-flyout_container"
                    }, d("div", {
                        className: "cp-flyout_outer"
                    }, d("div", {
                        className: "cp-flyout_header"
                    }, a, d("div", {
                        className: "cp-flyout_slide-controls"
                    }), d("div", {
                        className: "s-close cp-flyout_close"
                    }, d(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg",
                        icon: e.close
                    }))), d("div", {
                        className: "cp-flyout_body"
                    }, o, d("div", {
                        id: i
                    })), d("div", {
                        className: "cp-flyout_footer"
                    }, c, d("button", {
                        className: "s-save btn btn-right",
                        disabled: l
                    }, n.saveButtonText), s))))
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component.flyOut = u
    },
    375: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function t(t, e) {
            var n, i = Object.keys(t);
            return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t),
            e && (n = n.filter(function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            })),
            i.push.apply(i, n)),
            i
        }
        function a(i) {
            for (var e = 1; e < arguments.length; e++) {
                var o = null != arguments[e] ? arguments[e] : {};
                e % 2 ? t(Object(o), !0).forEach(function(e) {
                    var t, n;
                    t = i,
                    n = o[e = e],
                    (e = l(e))in t ? Object.defineProperty(t, e, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : t[e] = n
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(i, Object.getOwnPropertyDescriptors(o)) : t(Object(o)).forEach(function(e) {
                    Object.defineProperty(i, e, Object.getOwnPropertyDescriptor(o, e))
                })
            }
            return i
        }
        function r(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, l(i.key), i)
            }
        }
        function l(e) {
            e = function(e, t) {
                if ("object" !== o(e) || null === e)
                    return e;
                var n = e[Symbol.toPrimitive];
                if (void 0 === n)
                    return ("string" === t ? String : Number)(e);
                n = n.call(e, t || "default");
                if ("object" !== o(n))
                    return n;
                throw new TypeError("@@toPrimitive must return a primitive value.")
            }(e, "string");
            return "symbol" === o(e) ? e : String(e)
        }
        function s(e, t) {
            return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function c(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = u(n), t = (e = i ? (e = u(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                return d(t)
            }
        }
        function d(e) {
            if (void 0 === e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }
        function u(e) {
            return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, n, f, i, p, v;
        e = "gallery",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(f(v, e), t, n)
        }
        ,
        n = preact,
        f = n.h,
        i = n.render,
        p = n.Component,
        v = function() {
            var e = o
              , t = p;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && s(e, t);
            var n, i = c(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).state = {
                        dataObject: e.props.dataObject || {},
                        internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                        internalActions: e.props.actions,
                        toolBarActions: e.props.toolbarInfo
                    },
                    e.state.dataObject.layout = "grid",
                    e.handleLayoutChange = e.handleLayoutChange.bind(d(e)),
                    e.handleImageRefresh = e.handleImageRefresh.bind(d(e)),
                    e.handleImageOrderingChange = e.handleImageOrderingChange.bind(d(e)),
                    e.setState({
                        parentActions: {
                            imageRefresh: e.handleImageRefresh,
                            toggleOrdering: e.handleImageOrderingChange
                        }
                    }),
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "handleImageRefresh",
                value: function(t) {
                    this.setState(function(e) {
                        return a(a({}, e), {}, {
                            dataObject: a(a({}, e.dataObject), {}, {
                                files: t.files
                            })
                        })
                    }),
                    eviivo.media.mediaList.init(window.mediaListInitialOptions),
                    eviivo.media.toolbar.init(window.toolBarInitialOptions)
                }
            }, {
                key: "handleImageOrderingChange",
                value: function(t) {
                    this.setState(function(e) {
                        return a(a({}, e), {}, {
                            dataObject: a(a({}, e.dataObject), {}, {
                                isSortable: t.target.checked
                            })
                        })
                    })
                }
            }, {
                key: "handleLayoutChange",
                value: function(e) {
                    this.state.dataObject.layout = e,
                    this.setState(this.state)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    var t = this
                      , n = t.state
                      , e = n.internalActions;
                    null != e && null != (e = e.gallery) && "function" == typeof e.onComponentDidMount && e.onComponentDidMount(function(e) {
                        t.setState(n)
                    }, window.jQuery.extend({}, n.internalOptions))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.state
                      , t = e.dataObject
                      , n = e.internalOptions
                      , i = !0 === n.renderFlags.isInlineMode || !0 === n.renderFlags.isFlyoutMode ? null : f(eviivo.jsx.component.galleryList, {
                        dataObject: t,
                        callerOptions: e.internalOptions,
                        actions: e.internalActions
                    })
                      , o = !0 !== e.internalOptions.renderFlags.isInlineMode ? "media-page" : "media-embed";
                    return e.internalOptions.renderFlags.isFlyoutMode && (o = "media-embed"),
                    f("div", {
                        className: o,
                        id: n.id
                    }, i, f("main", {
                        className: "md-main"
                    }, f(eviivo.jsx.component.galleryToolbar, {
                        dataObject: t,
                        callerOptions: e.internalOptions,
                        toolbarActions: e.toolBarActions,
                        actions: e.internalActions,
                        parentActions: e.parentActions,
                        changeLayout: this.handleLayoutChange
                    }), f(eviivo.jsx.component.mediaList, {
                        dataObject: t,
                        callerOptions: e.internalOptions,
                        actions: e.internalActions
                    }), f("div", {
                        className: "md-main_overlay"
                    })))
                }
            }]) && r(e.prototype, t),
            n && r(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = v
    },
    760: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function i(e, t) {
            if (!(e instanceof t))
                throw new TypeError("Cannot call a class as a function")
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function e(e, t, n) {
            t && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            })
        }
        function r(e, t) {
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && n(e, t)
        }
        function n(e, t) {
            return (n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = s(n), t = (e = i ? (e = s(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== t)
                    return t;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
        }
        function s(e) {
            return (s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var t, c, g, d, u, f, p;
        t = "mediaList",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[t] = function(e, t, n) {
            d(g(f, e), t, n)
        }
        ,
        c = preact,
        g = c.h,
        d = c.render,
        u = c.Component,
        f = function() {
            r(n, u);
            var t = l(n);
            function n(e) {
                return i(this, n),
                (e = t.call(this, e)).state = {
                    dataObject: e.props.dataObject || {},
                    internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                    internalActions: e.props.actions
                },
                e.state.internalOptions.id += "-media-container",
                e
            }
            return e(n, [{
                key: "componentWillReceiveProps",
                value: function(e) {
                    this.setState(e)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    var e, t = this, n = t.state, i = n.internalActions;
                    null != i && null != (i = i.mediaList) && "function" == typeof i.onComponentDidMount && (e = window.jQuery.extend(!0, {}, n),
                    i.onComponentDidMount(function(e) {
                        n.dataObject.renderNewMediaList = !0,
                        n.dataObject.isSortable = e.isSortable,
                        t.setState(n)
                    }, e))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.state
                      , t = e.dataObject
                      , n = e.internalOptions;
                    return g("section", {
                        className: "md-uploader md-uploader_empty md-uploader_fill",
                        id: n.id
                    }, g(p, {
                        dataObject: t,
                        callerOptions: n,
                        actions: e.internalActions
                    }))
                }
            }]),
            n
        }(),
        p = function() {
            r(n, u);
            var t = l(n);
            function n(e) {
                return i(this, n),
                (e = t.call(this, e)).state = {
                    dataObject: e.props.dataObject || {},
                    internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                    internalActions: e.props.actions
                },
                e.state.dataObject.files = null,
                e
            }
            return e(n, [{
                key: "componentDidMount",
                value: function() {
                    var e, n = this, i = n.state, t = i.internalActions;
                    null != t && null != (t = t.imageList) && "function" == typeof t.onComponentDidMount && (e = window.jQuery.extend(!0, {}, i),
                    t.onComponentDidMount(function(e, t) {
                        i.dataObject.renderNewMediaList = !1,
                        i.dataObject.selectedGalleryCode = t,
                        i.dataObject.files = e,
                        i.dataObject.hasFiles = null != e && 0 < e.length,
                        n.setState(i)
                    }, e))
                }
            }, {
                key: "componentWillReceiveProps",
                value: function(e) {
                    this.setState(e)
                }
            }, {
                key: "mediaPreviewErrorItem",
                value: function(e, t) {
                    var n = eviivo.media.icons
                      , i = e.dataPayload
                      , o = this.state.dataObject
                      , a = ""
                      , t = (!0 === i.warnings.isFileTooLarge && (a = eviivo.media.translations.Label_Error_FileTooLarge.replace("{0}", (t.galleries[o.selectedGalleryCode].maxSize / 1024).toFixed(0))),
                    !0 === i.warnings.isTypeNotAllowed && (a = eviivo.media.translations.Label_Error_FileTypeNotAllowed + t.galleries[o.selectedGalleryCode].allowedMediaTypes.join(", ")),
                    !0 === i.warnings.isUploadFailed && (a += eviivo.media.translations.Label_Error_FileUploadFailed),
                    null != i.itemPreviewContainerId ? i.itemPreviewContainerId : i.containerId + "-image-item-preview-_" + e.key);
                    return g("div", {
                        className: "cp-media-item cp-media-item_error",
                        id: t,
                        "data-item-key": i.key
                    }, g("div", {
                        className: "cp-media-item_error-icon"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-warning",
                        icon: n.warning
                    })), g("div", {
                        className: "cp-media-item_info",
                        "data-tooltip": "title",
                        "data-tooltip-pos": "top",
                        "data-show-on": "desktop",
                        "data-tooltip-title": a
                    }, g("div", {
                        className: "cp-media-item_label"
                    }, i.name)))
                }
            }, {
                key: "renderImage",
                value: function(e) {
                    var t = eviivo.media.icons;
                    return null != e.src ? this.state.dataObject.renderNewMediaList ? g("span", {
                        className: "cp-media-item_file"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-picture_as_pdf",
                        icon: t.pdf
                    })) : g("img", {
                        src: e.src,
                        onError: function(e) {
                            e.target.onerror = null,
                            e.target.src = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgo8dGl0bGU+aW1hZ2Utb2ZmPC90aXRsZT4KPHBhdGggZD0iTTIuMjggM2wtMS4yOCAxLjI3IDIgMnYxMi43M2MwIDEuMTA1IDAuODk1IDIgMiAydjBoMTIuNzNsMiAyIDEuMjctMS4yOC0xOC43Mi0xOC43MnpNNC44MyAzbDE2LjE3IDE2LjE3di0xNC4xN2MwLTEuMTEtMC45LTItMi0yaC0xNC4xN3pNOC41IDEzLjVsMi41IDMgMS0xLjI1IDIuNzMgMi43NWgtOS43M2wzLjUtNC41eiI+PC9wYXRoPgo8L3N2Zz4K"
                        }
                    }) : this.uploadingSpinner(e.tempSrc)
                }
            }, {
                key: "imageErrorItem",
                value: function() {
                    var e = eviivo.media.icons;
                    return g("span", {
                        className: "cp-media-item_error-icon"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-image-off",
                        icon: e.imageError
                    }))
                }
            }, {
                key: "uploadingSpinner",
                value: function(e) {
                    return null !== e ? g("div", {
                        className: "cp-media-item_spinner-bg-image-container",
                        style: "background-image: url(" + e + ");"
                    }, g("span", {
                        className: "cp-media-item_spinner"
                    }, g("span", {
                        className: "spin"
                    }))) : g("span", {
                        className: "cp-media-item_spinner"
                    }, g("span", {
                        className: "spin"
                    }))
                }
            }, {
                key: "mediaPreviewPdfItem",
                value: function(e) {
                    return null != e && null != e.showPreload && e.showPreload ? this.uploadingSpinner() : (e = eviivo.media.icons,
                    g("span", {
                        className: "cp-media-item_file"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-picture_as_pdf",
                        icon: e.pdf
                    })))
                }
            }, {
                key: "getCaptionValue",
                value: function(t, e) {
                    return t && e ? e.find(function(e) {
                        return e.CultureCode === t
                    }) && 0 < e.find(function(e) {
                        return e.CultureCode === t
                    }).Content.length ? e.find(function(e) {
                        return e.CultureCode === t
                    }).Content : e.find(function(e) {
                        return e.CultureCode === e.RootCultureCode
                    }) ? e.find(function(e) {
                        return e.CultureCode === e.RootCultureCode
                    }).Content : e.find(function(e) {
                        return "root" === e.CultureCode
                    }) ? e.find(function(e) {
                        return "root" === e.CultureCode
                    }).Content : "" : ""
                }
            }, {
                key: "mediaPreviewThumbnailItem",
                value: function(e, t, n) {
                    var i, o, a, r, l, s, c, d = e.dataPayload;
                    if (null == d)
                        return null;
                    if (d.mediaQuality && 0 < d.mediaQuality.length && this.state.internalOptions.renderFlags.isFlyoutMode) {
                        var u = eviivo.media.restrictions.allRestrictions.galleries[this.state.internalOptions.galleryContext.selectedGalleryCode];
                        if (u && 0 !== u.shortestSide && u.allowedMediaTypes)
                            return null
                    }
                    return d.hasWarnings ? this.mediaPreviewErrorItem(e, t) : (u = this.state.internalOptions,
                    t = this.state.dataObject,
                    s = u.renderFlags.isFlyoutMode,
                    c = u.renderFlags.isInlineMode,
                    a = null != t.selectedGalleryCode && "all_media" === t.selectedGalleryCode,
                    l = (null == t.selectedGalleryCode ? u.galleryContext : t).selectedGalleryCode,
                    a = !a && ("room_types" === l || "property_photos" === l || "my_web_home" === l),
                    l = eviivo.media.icons,
                    i = "",
                    o = d.captions,
                    i = d.isImage ? this.getCaptionValue(u.cultureCode, o) : d.name,
                    o = n + e.key,
                    n = a ? 0 === e.itemIndex ? g("span", null, g("span", {
                        className: "cp-media-item_tag-counter"
                    }, e.itemIndex + 1), g("span", null, eviivo.media.translations.Label_Main_Image)) : g("span", {
                        className: "cp-media-item_tag-counter expandable"
                    }, e.itemIndex + 1) : null,
                    a = a ? g("div", {
                        className: "cp-media-item_tag cp-media-item_tag-main"
                    }, n) : null,
                    n = d.mediaQuality && d.mediaQuality.length && !s ? g("div", {
                        class: "cp-media-item_tag cp-media-item_tag-error"
                    }, g("span", null, eviivo.media.translations.Label_Warning_AttentionRequired)) : null,
                    r = d.isImage ? this.renderImage(d) : null == d.isImage ? null : this.mediaPreviewPdfItem(d),
                    c = s || c ? null : g("div", {
                        className: "cp-media-item_drag-control"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-move",
                        icon: eviivo.media.icons.move
                    })),
                    u = u.renderFlags.isUploadFlyoutMode && !s ? null : g("div", {
                        className: "cp-media-item_select"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-check_circle",
                        icon: l.checkmark
                    }), g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-radio_button_unchecked",
                        icon: l.unchecked
                    })),
                    u = !0 !== t.sortable ? g("div", {
                        className: "cp-media-item_icon-container"
                    }, u, g("div", {
                        className: "cp-media-item_primary-trigger"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-create",
                        icon: l.edit
                    })), c) : null,
                    null == d.src && (u = null),
                    l = !0 !== t.isSortable || s ? null : g("div", {
                        className: "cp-media-item_drag"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-move",
                        icon: eviivo.media.icons.move
                    })),
                    c = "s-media-item cp-media-item",
                    s = t.isSortable ? c + " cp-media-item_order" : c,
                    s = d.isSelected ? s + " cp-media-item_selected" : s,
                    s = d.isSelectable ? s + " cp-media-item_selectable" : s,
                    c = "cp-media-item_image",
                    d = t.isSortable ? c : c + " cp-media-item_loader",
                    g("div", {
                        className: s,
                        id: o,
                        "data-item-key": e.dataPayload.key
                    }, u, g("div", {
                        className: d
                    }, r, g("div", {
                        className: "cp-media-item_tag-container"
                    }, n, a)), g("div", {
                        className: "cp-media-item_info"
                    }, g("div", {
                        className: "cp-media-item_label",
                        "data-tooltip": "title",
                        "data-tooltip-pos": "top",
                        "data-tooltip-title": i
                    }, " ", i)), l))
                }
            }, {
                key: "mediaDropZoneMask",
                value: function(e, t) {
                    var n;
                    return !0 !== t.hasFiles ? (t = e.id + "-upload-files",
                    e = [],
                    n = eviivo.media.icons,
                    e.push(g("input", {
                        type: "file",
                        id: t,
                        style: "display: none;",
                        multiple: !0
                    })),
                    e.push(g("div", {
                        className: "md-upload-mask"
                    }, g("div", {
                        className: "md-upload-mask_animation"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-file-image",
                        icon: n.dropZone.file
                    }), g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-file-pdf",
                        icon: n.dropZone.pdf
                    }), g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-cloud_upload",
                        icon: n.dropZone.cloudUpload
                    }), g("div", {
                        className: "md-upload-mask_text"
                    }, eviivo.media.translations.Label_UploadMediaToGallery)))),
                    e) : null
                }
            }, {
                key: "mediaDropZone",
                value: function(e, t) {
                    var n = eviivo.media.icons
                      , i = null
                      , o = null;
                    return !0 !== t.hasFiles && (i = this.mediaDropZoneMask(e, t),
                    t = eviivo.media.translations.Label_MaximumAllowedSize.replace("{0}", (e.restrictions.galleries[e.galleryContext.selectedGalleryCode].maxSize / 1024).toFixed(0)),
                    e = e.id + "-select-files",
                    o = g("div", {
                        className: " md-upload-placeholder_intro md-upload-placeholder_start"
                    }, g("div", {
                        className: "md-upload-placeholder_cards"
                    }, g("div", {
                        className: "md-upload-placeholder_card third"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-photo_camera",
                        icon: n.dropZone.camera
                    })), g("div", {
                        className: "md-upload-placeholder_card second"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-photo_camera",
                        icon: n.dropZone.camera
                    })), g("div", {
                        className: "md-upload-placeholder_card first"
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-photo_camera",
                        icon: n.dropZone.camera
                    }))), g("p", {
                        className: "user-select-none s-drag-false",
                        draggable: "false"
                    }, eviivo.media.translations.Label_DropFilesHereToUpload, g("br", null), eviivo.media.translations.Label_Or, g("br", null), g("a", {
                        href: "#",
                        id: e,
                        className: "s-drag-false"
                    }, eviivo.media.translations.Label_SelectFiles)), g("small", {
                        className: "user-select-none s-drag-false",
                        draggable: "false"
                    }, t))),
                    g("div", {
                        className: "s-drop-zone-watermark md-upload-placeholder"
                    }, o, i)
                }
            }, {
                key: "mediaPreviewListHeader",
                value: function(e) {
                    var t = this.state.dataObject
                      , n = (null == t.selectedGalleryCode ? internalOptions.galleryContext : t).selectedGalleryCode
                      , t = null != t.selectedGalleryCode && "all_media" !== t.selectedGalleryCode && ("room_types" === n || "property_photos" === n || "my_web_home" === n) ? g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center media-index-col"
                    }, g("span", null, eviivo.media.translations.List_OrderIndex)) : null;
                    return g("div", {
                        className: "cp-flex-table_row cp-flex-table_header cp-flex-table_hide-on-small"
                    }, g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center cp-flex-table_cell-hor-align-center checkbox-col"
                    }, g("div", {
                        className: "cp-custom-input cp-custom-input_align-center"
                    }, g("input", {
                        type: "checkbox",
                        id: "select-all",
                        disabled: this.state.dataObject.isSortable,
                        checked: e
                    }), g("label", {
                        htmlFor: "select-all"
                    }, g("span", {
                        className: "checkbox-input"
                    })))), t, g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center cp-flex-table_cell-condensed media-col"
                    }, g("span", null, eviivo.media.translations.List_Media)), g("div", {
                        className: "cp-flex-table_stack-on-small"
                    }, g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center file-name-col"
                    }, g("span", null, eviivo.media.translations.List_Caption)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center galleries-col"
                    }, g("span", null, eviivo.media.translations.List_Galleries)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center type-col"
                    }, g("span", null, eviivo.media.translations.List_Type)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center date-col"
                    }, g("span", null, eviivo.media.translations.List_Date)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center button-col"
                    })))
                }
            }, {
                key: "mediaPreviewListItem",
                value: function(e, t, n) {
                    var i, o, a, r, l, s, c, d, u, f, p, v = this.state.internalOptions, m = e.dataPayload, y = this.state.dataObject;
                    return null == m ? null : (l = v.renderFlags.isFlyoutMode,
                    d = v.renderFlags.isInlineMode,
                    i = m.galleriesCount,
                    o = m.mediaTypeDescription,
                    a = m.date,
                    r = m.isImage ? this.renderImage(m) : this.mediaPreviewPdfItem(),
                    n = n + e.key,
                    l = !y.isSortable || l && d ? g("label", {
                        htmlFor: n + "-checkbox"
                    }, g("span", {
                        className: "checkbox-input"
                    })) : g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-move",
                        icon: eviivo.media.icons.move
                    }),
                    d = null != y.selectedGalleryCode && "all_media" === y.selectedGalleryCode,
                    s = (null == y.selectedGalleryCode ? v.galleryContext : y).selectedGalleryCode,
                    d = !d && ("room_types" === s || "property_photos" === s || "my_web_home" === s),
                    s = m.mediaQuality && m.mediaQuality.length ? g("div", {
                        class: "cp-media-item_tag cp-media-item_tag-error"
                    }, g("span", null, eviivo.media.translations.Label_Warning_AttentionRequired)) : null,
                    c = d ? g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center media-index-col"
                    }, g("span", {
                        className: "cp-flex-table_show-on-small"
                    }, eviivo.media.translations.List_OrderIndex, ": "), g("span", {
                        className: "cp-media-table-order-index"
                    }, e.itemIndex + 1)) : null,
                    e = 0 === e.itemIndex && d ? g("div", {
                        class: "cp-media-item_tag cp-media-item_tag-main",
                        style: "display:flex;"
                    }, eviivo.media.translations.Label_Main_Image) : g("div", {
                        class: "cp-media-item_tag cp-media-item_tag-main",
                        style: "display:none;"
                    }),
                    d = "cp-flex-table_row" + (m.isSelected ? " cp-flex-table_row-selected" : ""),
                    u = i && 0 < parseInt(i) ? "" : eviivo.media.translations.Warning_12M_delete,
                    p = "",
                    f = m.captions,
                    p = m.isImage ? this.getCaptionValue(v.cultureCode, f) : m.name,
                    g("div", {
                        className: d,
                        id: n,
                        "data-item-key": m.key
                    }, g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center cp-flex-table_cell-hor-align-center checkbox-col"
                    }, g("div", {
                        className: "cp-custom-input cp-custom-input_no-label"
                    }, g("input", {
                        type: "checkbox",
                        id: n + "-checkbox",
                        checked: m.isSelected,
                        "data-item-key": m.key
                    }), l)), g("div", {
                        className: "cp-flex-table_hide-on-small"
                    }, c), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center media-col"
                    }, g("div", {
                        className: "cp-media-item_table-image cp-media-item_loader",
                        "data-tooltip": "title",
                        "data-tooltip-pos": "top",
                        "data-tooltip-title": u
                    }, r, g("div", {
                        className: "cp-media-item_tag-container"
                    }, e, s))), g("div", {
                        className: "cp-flex-table_stack-on-small"
                    }, g("div", {
                        className: "cp-flex-table_show-on-small"
                    }, c), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center file-name-col"
                    }, g("span", {
                        className: "cp-flex-table_show-on-small"
                    }, eviivo.media.translations.List_Caption, ": "), g("span", {
                        className: "filename",
                        title: p
                    }, p)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center galleries-col"
                    }, g("span", {
                        className: "cp-flex-table_show-on-small"
                    }, eviivo.media.translations.List_Galleries, ": "), g("span", null, i)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center type-col"
                    }, g("span", {
                        className: "cp-flex-table_show-on-small"
                    }, eviivo.media.translations.List_Type, ": "), g("span", null, o)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center date-col"
                    }, g("span", {
                        className: "cp-flex-table_show-on-small"
                    }, eviivo.media.translations.List_Date, ": "), g("span", null, a)), g("div", {
                        className: "cp-flex-table_cell cp-flex-table_cell-vert-align-center button-col"
                    }, g("button", {
                        className: "btn-list",
                        id: "edit-btn",
                        disabled: y.isSortable
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-edit",
                        icon: eviivo.media.icons.edit
                    })), g("button", {
                        className: "btn-list",
                        id: "delete-btn",
                        disabled: y.isSortable
                    }, g(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-delete",
                        icon: eviivo.media.icons.delete
                    }))))))
                }
            }, {
                key: "mediaPreviewSuggestionMessage",
                value: function(e) {
                    if (null == e.selectedGallery)
                        return null;
                    var t = "";
                    switch (e.selectedGallery) {
                    case "all_media":
                        1 == e.options.renderFlags.isFlyoutMode ? t = (1 < e.options.numberOfSelectedItemsAllowed ? eviivo.media.translations.Label_Warning_SelectionLimitPlural : eviivo.media.translations.Label_Warning_SelectionLimit).replace("{0}", e.options.numberOfSelectedItemsAllowed) : e.isGridLayout && (t = 0 < e.selectedGalleryMediaCount ? eviivo.media.translations.Label_Warning_AllMedia_HasMediaUploaded : "");
                        break;
                    case "property_photos":
                        t += eviivo.media.translations.Label_Warning_PropertyImageQuality;
                        break;
                    case "room_types":
                        null != e.options.textResources && (t = eviivo.media.translations.Label_Warning_SellingMore.replace("{singularAccommodationKeyword}", e.options.textResources.singularAccommodationKeyword).replace("{singularAccommodationKeyword}", e.options.textResources.singularAccommodationKeyword).replace("{0}", e.options.restrictions.imageCountWarnings.default.property).replace("{1}", e.options.restrictions.imageCountWarnings.default.bathroom));
                        break;
                    case "property_charges":
                    case "property_headers":
                    case "property_awards":
                    case "my_web_custom_pages":
                        1 == e.options.renderFlags.isFlyoutMode && (t = eviivo.media.translations.Label_Warning_SelectionLimit.replace("{0}", e.options.numberOfSelectedItemsAllowed))
                    }
                    return "" === t ? null : g("div", {
                        className: "mod-notice mod-notice-small alert"
                    }, g("span", {
                        dangerouslySetInnerHTML: {
                            __html: t
                        }
                    }))
                }
            }, {
                key: "mediaPreviewNoItemsNotice",
                value: function(e) {
                    e = e ? eviivo.media.translations.Label_Warning_AllMedia_NoMediaUploaded : this.state.internalOptions.renderFlags.isInlineMode ? eviivo.media.translations.Label_Info_NoImagesUploadInviteInline : eviivo.media.translations.Label_Info_NoImagesUploadInvite;
                    return g("div", {
                        className: "mod-notice mod-notice-small alert ml-auto mr-auto"
                    }, g("span", null, g("strong", null, eviivo.media.translations.Label_Info_NoImagesInGallery), " ", g("br", null), e))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.state
                      , t = e.dataObject;
                    if (t.renderNewMediaList)
                        return null;
                    var n, i, o = e.internalOptions, e = !1, a = [], r = (null == t.selectedGalleryCode ? o.galleryContext : t).selectedGalleryCode, l = "list" !== t.layout, s = o.id + "-image-item-preview-", r = this.mediaPreviewSuggestionMessage({
                        selectedGallery: r,
                        options: o,
                        selectedGalleryMediaCount: t.files && Object.keys(t.files).length,
                        isGridLayout: l
                    }), c = null != t.selectedGalleryCode && "all_media" === t.selectedGalleryCode, d = 0;
                    for (n in t.files) {
                        var u = t.files[n]
                          , f = (u.itemIndex = d,
                        d++,
                        l ? this.mediaPreviewThumbnailItem(u, o.restrictions, s) : this.mediaPreviewListItem(u, o.restrictions, s));
                        c && u.dataPayload && u.dataPayload.showPreload ? a.unshift(f) : a.push(f)
                    }
                    return t.files && (e = !Object.entries(t.files).some(function(e) {
                        return !1 === e[1].dataPayload.isSelected
                    })),
                    0 < a.length ? (i = o.id + "-image-list-placeholder",
                    e = l ? a : g("div", {
                        className: "cp-flex-table_wrapper"
                    }, this.mediaPreviewListHeader(e), g("div", {
                        className: "cp-flex-table_scroll-wrapper"
                    }, a)),
                    g("div", {
                        id: i,
                        className: "s-mod-drop-zone cp-library-container"
                    }, r, e, this.mediaDropZoneMask(o, t))) : g("div", {
                        className: "s-mod-drop-zone cp-library-container"
                    }, r, this.mediaPreviewNoItemsNotice(c), this.mediaDropZone(o, t))
                }
            }]),
            n
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[t] = f
    },
    423: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = s(n), t = (e = i ? (e = s(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== t)
                    return t;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
        }
        function s(e) {
            return (s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, t, c, i, d, u, f;
        e = "mediaPreview",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(c(f, e), t, n)
        }
        ,
        t = preact,
        c = t.h,
        i = t.render,
        d = t.Component,
        u = null,
        f = function() {
            var e = o
              , t = d;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).state = {
                        dataObject: window.jQuery.extend({}, e.props.dataObject),
                        internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                        internalActions: e.props.actions
                    },
                    e.state.dataObject.image = null,
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "componentDidMount",
                value: function() {
                    var e, t = this, n = t.state, i = n.internalActions;
                    null != i && null != (i = i.mediaPreview) && "function" == typeof i.onComponentDidMount && (e = window.jQuery.extend(!0, {}, n),
                    i.onComponentDidMount(function(e) {
                        n.dataObject = e,
                        t.setState(n)
                    }, e))
                }
            }, {
                key: "componentDidUpdate",
                value: function() {
                    var e, t, n = this, i = n.state;
                    u != i.internalOptions.galleryContext.referenceId && (u = i.internalOptions.galleryContext.referenceId,
                    null != (t = i.internalActions)) && null != (e = t.mediaPreview) && "function" == typeof e.onComponentDidMount && (t = window.jQuery.extend(!0, {}, i),
                    e.onComponentDidMount(function(e) {
                        i.dataObject = e,
                        n.setState(i)
                    }, t))
                }
            }, {
                key: "render",
                value: function() {
                    var e, t, n = this.state, i = n.dataObject, o = c("p", null, eviivo.media.translations.Label_NoImageSelected), a = null, r = null, l = null == this.props.callerOptions.galleryContext.restrictMediaListFilesTo;
                    return !(n.internalOptions.noButtons = !1) !== n.internalOptions.noButtons && (t = eviivo.media.translations.Button_AddImage,
                    l && (t = eviivo.media.translations.Button_AddFile),
                    null != i && null != i.image && "" !== i.image.Url && (e = eviivo.media.icons,
                    o = "pdf" == i.image.FileType ? c("span", {
                        className: "cp-media-item_file",
                        style: "height:140px;"
                    }, c(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-picture_as_pdf",
                        icon: e.pdf,
                        dataItemId: i.image.Id
                    })) : c("img", {
                        src: i.image.Url,
                        "data-item-id": i.image.Id,
                        className: "s-preview-item"
                    }),
                    r = c("button", {
                        className: "s-remove-image btn btn-red"
                    }, l ? eviivo.media.translations.Button_RemoveFile : eviivo.media.translations.Button_RemoveImage),
                    t = l ? eviivo.media.translations.Button_ChangeFile : eviivo.media.translations.Button_ChangeImage),
                    a = c("button", {
                        className: "s-select-image btn btn-right"
                    }, t)),
                    c("div", {
                        className: "cp-media-placeholder-preview s-media-preview",
                        id: n.internalOptions.id
                    }, c("div", {
                        className: "cp-media-placeholder-preview_container s-select-image"
                    }, o), c("div", {
                        className: "clearfix"
                    }, r, a))
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = f
    },
    114: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = s(n), t = (e = i ? (e = s(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== t)
                    return t;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
        }
        function s(e) {
            return (s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, t, c, i, d, u;
        e = "slideControls",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(c(u, e), t, n)
        }
        ,
        t = preact,
        c = t.h,
        i = t.render,
        d = t.Component,
        u = function() {
            var e = o
              , t = d;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).state = {
                        dataObject: e.props.dataObject || {},
                        internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                        internalActions: e.props.actions
                    },
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "componentDidMount",
                value: function() {
                    var e, i = this, o = i.state, t = o.internalActions.slideControls;
                    null != t && "function" == typeof t.onComponentDidMount && (e = window.jQuery.extend(!0, {}, o),
                    t.onComponentDidMount(function(e) {
                        if (null != e.container && (o.dataObject.container = e.container),
                        null != e.settings && (o.dataObject.settings = e.settings),
                        null != e.updateSliderAction) {
                            var t = o.dataObject.settings.currentItemNumber
                              , n = o.dataObject.settings.maxItemNumber;
                            switch (e.updateSliderAction) {
                            case "delete":
                                1 < n ? (t = t < n ? t : t - 1,
                                o.dataObject.settings.maxItemNumber = n - 1) : o.dataObject.settings.renderSlideControls = !1;
                                break;
                            case "save":
                                t = t < n ? t + 1 : 1;
                                break;
                            case "next":
                                t = t >= o.dataObject.settings.maxItemNumber ? 1 : t + 1;
                                break;
                            case "prev":
                                t = t <= 1 ? n : t - 1
                            }
                            null != o.dataObject && null != o.dataObject.settings && (o.dataObject.settings.currentItemNumber = t)
                        }
                        i.setState(o)
                    }, e))
                }
            }, {
                key: "render",
                value: function() {
                    var e, t = this.state.dataObject;
                    return null != t && null != t.settings && null != t.settings.renderSlideControls && t.settings.renderSlideControls ? (e = eviivo.media.icons,
                    c("div", {
                        className: "cp-flyout_slide-controls"
                    }, c("div", {
                        className: "cp-flyout_slide-arrow",
                        id: "arrow-left"
                    }, c(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-chevron_left",
                        icon: e.chevron.left
                    })), c("div", {
                        className: "cp-flyout_slide-count"
                    }, t.settings.currentItemNumber, " of ", t.settings.maxItemNumber), c("div", {
                        className: "cp-flyout_slide-arrow",
                        id: "arrow-right"
                    }, c(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-chevron_right",
                        icon: e.chevron.right
                    })))) : null
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = u
    },
    657: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = s(n), t = (e = i ? (e = s(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                if (void 0 !== t)
                    return t;
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
            }
        }
        function s(e) {
            return (s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, t, c, i, d, u;
        e = "mediaSVG",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(c(u, e), t, n)
        }
        ,
        t = preact,
        c = t.h,
        i = t.render,
        d = t.Component,
        u = function() {
            var e = o
              , t = d;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return i.call(this, e);
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "render",
                value: function() {
                    return c("svg", {
                        style: "display: none; position: absolute; width: 0; height: 0;",
                        width: "0",
                        height: "0",
                        id: "mediaSVGs"
                    }, c("defs", null, c("symbol", {
                        id: "icon-bg-arrow_drop_down",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M6.984 9.984h10.031l-5.016 5.016z"
                    })), c("symbol", {
                        id: "icon-bg-arrow_drop_up",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M6.984 14.016l5.016-5.016 5.016 5.016h-10.031z"
                    })), c("symbol", {
                        id: "icon-bg-check_circle",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M9.984 17.016l9-9-1.406-1.453-7.594 7.594-3.563-3.563-1.406 1.406zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z"
                    })), c("symbol", {
                        id: "icon-bg-chevron_left",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M15.422 7.406l-4.594 4.594 4.594 4.594-1.406 1.406-6-6 6-6z"
                    })), c("symbol", {
                        id: "icon-bg-chevron_right",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z"
                    })), c("symbol", {
                        id: "icon-bg-delete",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z"
                    })), c("symbol", {
                        id: "icon-bg-error",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M12.984 12.984v-6h-1.969v6h1.969zM12.984 17.016v-2.016h-1.969v2.016h1.969zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z"
                    })), c("symbol", {
                        id: "icon-bg-grid_panoramic",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M4 4h4v4h-4v-4z"
                    }), c("path", {
                        d: "M16 4h4v4h-4v-4z"
                    }), c("path", {
                        d: "M10 4h4v4h-4v-4z"
                    }), c("path", {
                        d: "M4 10h4v4h-4v-4z"
                    }), c("path", {
                        d: "M16 10h4v4h-4v-4z"
                    }), c("path", {
                        d: "M10 10h4v4h-4v-4z"
                    }), c("path", {
                        d: "M4 16h4v4h-4v-4z"
                    }), c("path", {
                        d: "M16 16h4v4h-4v-4z"
                    }), c("path", {
                        d: "M10 16h4v4h-4v-4z"
                    })), c("symbol", {
                        id: "icon-bg-photo_camera",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M12 17.016c2.766 0 5.016-2.25 5.016-5.016s-2.25-5.016-5.016-5.016-5.016 2.25-5.016 5.016 2.25 5.016 5.016 5.016zM9 2.016h6l1.828 1.969h3.188c1.078 0 1.969 0.938 1.969 2.016v12c0 1.078-0.891 2.016-1.969 2.016h-16.031c-1.078 0-1.969-0.938-1.969-2.016v-12c0-1.078 0.891-2.016 1.969-2.016h3.188zM8.813 12c0-1.781 1.406-3.188 3.188-3.188s3.188 1.406 3.188 3.188-1.406 3.188-3.188 3.188-3.188-1.406-3.188-3.188z"
                    })), c("symbol", {
                        id: "icon-bg-file-image",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M13 9h5.5l-5.5-5.5v5.5zM6 2h8l6 6v12c0 1.105-0.895 2-2 2v0h-12c-1.11 0-2-0.9-2-2v-16c0-1.11 0.89-2 2-2zM6 20h12v-8l-4 4-2-2-6 6zM8 9c-1.105 0-2 0.895-2 2v0c0 1.105 0.895 2 2 2v0c1.105 0 2-0.895 2-2v0c0-1.105-0.895-2-2-2v0z"
                    })), c("symbol", {
                        id: "icon-bg-file-pdf",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M14 9h5.5l-5.5-5.5v5.5zM7 2h8l6 6v12c0 1.105-0.895 2-2 2v0h-12c-1.11 0-2-0.9-2-2v-16c0-1.105 0.895-2 2-2v0zM11.93 12.44c0.41 0.9 0.93 1.64 1.53 2.15l0.41 0.32c-0.87 0.16-2.070 0.44-3.34 0.93v0l-0.11 0.040 0.5-1.040c0.45-0.87 0.78-1.66 1.010-2.4zM18.41 16.25c0.18-0.18 0.27-0.41 0.28-0.66 0.030-0.2-0.020-0.39-0.12-0.55-0.29-0.47-1.040-0.69-2.28-0.69l-1.29 0.070-0.87-0.58c-0.63-0.52-1.2-1.43-1.6-2.56l0.040-0.14c0.33-1.33 0.64-2.94-0.020-3.6-0.16-0.16-0.38-0.24-0.61-0.24h-0.24c-0.37 0-0.7 0.39-0.79 0.77-0.37 1.33-0.15 2.060 0.22 3.27v0.010c-0.25 0.88-0.57 1.9-1.080 2.93l-0.96 1.8-0.89 0.49c-1.2 0.75-1.77 1.59-1.88 2.12-0.040 0.19-0.020 0.36 0.050 0.54l0.030 0.050 0.48 0.31 0.44 0.11c0.81 0 1.73-0.95 2.97-3.070l0.18-0.070c1.030-0.33 2.31-0.56 4.030-0.75 1.030 0.51 2.24 0.74 3 0.74 0.44 0 0.74-0.11 0.91-0.3zM18 15.54l0.090 0.11c-0.010 0.1-0.040 0.11-0.090 0.13h-0.040l-0.19 0.020c-0.46 0-1.17-0.19-1.9-0.51 0.090-0.1 0.13-0.1 0.23-0.1 1.4 0 1.8 0.25 1.9 0.35zM8.83 17c-0.65 1.19-1.24 1.85-1.69 2 0.050-0.38 0.5-1.040 1.21-1.69l0.48-0.31zM11.85 10.090c-0.23-0.9-0.24-1.63-0.070-2.050l0.070-0.12 0.15 0.050c0.17 0.24 0.19 0.56 0.090 1.1l-0.030 0.16-0.16 0.82-0.050 0.040z"
                    })), c("symbol", {
                        id: "icon-bg-cloud_upload",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M14.016 12.984h3l-5.016-4.969-5.016 4.969h3v4.031h4.031v-4.031zM19.359 10.031c2.578 0.188 4.641 2.344 4.641 4.969 0 2.766-2.25 5.016-5.016 5.016h-12.984c-3.328 0-6-2.672-6-6 0-3.094 2.344-5.625 5.344-5.953 1.266-2.391 3.75-4.078 6.656-4.078 3.656 0 6.656 2.578 7.359 6.047z"
                    })), c("symbol", {
                        id: "icon-bg-check-decagram",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M23 12l-2.44-2.78 0.34-3.68-3.61-0.82-1.89-3.18-3.4 1.46-3.4-1.46-1.89 3.18-3.61 0.81 0.34 3.68-2.44 2.79 2.44 2.78-0.34 3.69 3.61 0.82 1.89 3.18 3.4-1.47 3.4 1.46 1.89-3.18 3.61-0.82-0.34-3.68 2.44-2.78zM10 17l-4-4 1.41-1.41 2.59 2.58 6.59-6.59 1.41 1.42-8 8z"
                    })), c("symbol", {
                        id: "icon-bg-picture_as_pdf",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M14.016 11.484v-3h0.984v3h-0.984zM3.984 6v14.016h14.016v1.969h-14.016c-1.078 0-1.969-0.891-1.969-1.969v-14.016h1.969zM9 9.516v-1.031h0.984v1.031h-0.984zM20.484 8.484v-1.5h-3v6h1.5v-1.969h1.5v-1.5h-1.5v-1.031h1.5zM16.5 11.484v-3c0-0.844-0.656-1.5-1.5-1.5h-2.484v6h2.484c0.844 0 1.5-0.656 1.5-1.5zM11.484 9.516v-1.031c0-0.844-0.656-1.5-1.5-1.5h-2.484v6h1.5v-1.969h0.984c0.844 0 1.5-0.656 1.5-1.5zM20.016 2.016c1.078 0 1.969 0.891 1.969 1.969v12c0 1.078-0.891 2.016-1.969 2.016h-12c-1.078 0-2.016-0.938-2.016-2.016v-12c0-1.078 0.938-1.969 2.016-1.969h12z"
                    })), c("symbol", {
                        id: "icon-bg-list-view",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M4 4h4v4h-4v-4z"
                    }), c("path", {
                        d: "M10 4h10v4h-10v-4z"
                    }), c("path", {
                        d: "M4 10h4v4h-4v-4z"
                    }), c("path", {
                        d: "M10 10h10v4h-10v-4z"
                    }), c("path", {
                        d: "M4 16h4v4h-4v-4z"
                    }), c("path", {
                        d: "M10 16h10v4h-10v-4z"
                    })), c("symbol", {
                        id: "icon-bg-image-off",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M2.28 3l-1.28 1.27 2 2v12.73c0 1.105 0.895 2 2 2v0h12.73l2 2 1.27-1.28-18.72-18.72zM4.83 3l16.17 16.17v-14.17c0-1.11-0.9-2-2-2h-14.17zM8.5 13.5l2.5 3 1-1.25 2.73 2.75h-9.73l3.5-4.5z"
                    })), c("symbol", {
                        id: "icon-bg-close",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"
                    })), c("symbol", {
                        id: "icon-bg-move",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M15.4 18.6l-3.4 3.4-3.4-3.4h2.6l-0.050-3.25h1.65l-0.050 3.25h2.65zM5.4 15.4l-3.4-3.4 3.4-3.4v2.6l3.25-0.050v1.65l-3.25-0.050v2.65zM8.6 5.4l3.4-3.4 3.4 3.4h-2.6l0.050 3.25h-1.65l0.050-3.25h-2.65zM18.6 8.6l3.4 3.4-3.4 3.4v-2.6l-3.25 0.050v-1.65l3.25 0.050v-2.65z"
                    })), c("symbol", {
                        id: "icon-bg-content_copy",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M18.984 21v-14.016h-10.969v14.016h10.969zM18.984 5.016q0.797 0 1.406 0.586t0.609 1.383v14.016q0 0.797-0.609 1.406t-1.406 0.609h-10.969q-0.797 0-1.406-0.609t-0.609-1.406v-14.016q0-0.797 0.609-1.383t1.406-0.586h10.969zM15.984 0.984v2.016h-12v14.016h-1.969v-14.016q0-0.797 0.586-1.406t1.383-0.609h12z"
                    })), c("symbol", {
                        id: "icon-bg-chevron_left",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M15.422 7.406l-4.594 4.594 4.594 4.594-1.406 1.406-6-6 6-6z"
                    })), c("symbol", {
                        id: "icon-bg-chevron_right",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z"
                    })), c("symbol", {
                        id: "icon-bg-create",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M20.719 7.031l-1.828 1.828-3.75-3.75 1.828-1.828q0.281-0.281 0.703-0.281t0.703 0.281l2.344 2.344q0.281 0.281 0.281 0.703t-0.281 0.703zM3 17.25l11.063-11.063 3.75 3.75-11.063 11.063h-3.75v-3.75z"
                    })), c("symbol", {
                        id: "icon-bg-rotate_left",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M12.984 4.078c3.938 0.469 7.031 3.844 7.031 7.922s-3.094 7.453-7.031 7.922v-2.016c2.859-0.469 5.016-2.953 5.016-5.906s-2.156-5.438-5.016-5.906v3.891l-4.547-4.453 4.547-4.547v3.094zM7.078 18.328l1.453-1.453c0.75 0.563 1.594 0.891 2.484 1.031v2.016c-1.406-0.188-2.766-0.703-3.938-1.594zM6.094 12.984c0.141 0.891 0.469 1.734 0.984 2.484l-1.406 1.406c-0.891-1.172-1.406-2.484-1.594-3.891h2.016zM7.125 8.531c-0.516 0.75-0.891 1.594-1.031 2.484h-2.016c0.188-1.406 0.75-2.719 1.641-3.891z"
                    })), c("symbol", {
                        id: "icon-bg-rotate_right",
                        viewBox: "0 0 24 24"
                    }, c("path", {
                        d: "M16.875 15.469c0.563-0.75 0.891-1.594 1.031-2.484h2.016c-0.188 1.406-0.703 2.719-1.594 3.891zM12.984 17.906c0.891-0.141 1.734-0.469 2.484-1.031l1.453 1.453c-1.172 0.891-2.531 1.406-3.938 1.594v-2.016zM19.922 11.016h-2.016c-0.141-0.891-0.469-1.734-1.031-2.484l1.453-1.406c0.891 1.172 1.406 2.484 1.594 3.891zM15.563 5.531l-4.547 4.453v-3.891c-2.859 0.469-5.016 2.953-5.016 5.906s2.156 5.438 5.016 5.906v2.016c-3.938-0.469-7.031-3.844-7.031-7.922s3.094-7.453 7.031-7.922v-3.094z"
                    }))))
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = u,
        window.eviivo = window.eviivo || {},
        window.eviivo.media = window.eviivo.media || {},
        window.eviivo.media.icons = {
            checkmark: '<use xlink:href="#icon-bg-check_circle"></use>',
            unchecked: '<use xlink:href="#icon-bg-radio_button_unchecked"></use>',
            checkedDecagram: '<use xlink:href="#icon-bg-check-decagram"></use>',
            error: '<use xlink:href="#icon-bg-error"></use>',
            warning: '<use xlink:href="#icon-bg-warning"></use>',
            lowQuality: '<use xlink:href="#icon-bg-quality-low"></use>',
            pdf: '<use xlink:href="#icon-bg-picture_as_pdf"></use>',
            imageError: '<use xlink:href="#icon-bg-image-off"></use>',
            dropZone: {
                file: '<use xlink:href="#icon-bg-file-image"></use>',
                pdf: '<use xlink:href="#icon-bg-file-pdf"></use>',
                cloudUpload: '<use xlink:href="#icon-bg-cloud_upload"></use>',
                camera: '<use xlink:href="#icon-bg-photo_camera"></use>'
            },
            infoOutline: '<use xlink:href="#icon-bg-info_outline"></use>',
            arrows: {
                down: '<use xlink:href="#icon-bg-arrow_drop_down"></use>',
                up: '<use xlink:href="#icon-bg-arrow_drop_up"></use>'
            },
            displayModes: {
                thumbnail: '<use xlink:href="#icon-bg-grid_panoramic"></use>',
                list: '<use xlink:href="#icon-bg-list-view"></use>'
            },
            delete: '<use xlink:href="#icon-bg-delete"></use>',
            close: '<use xlink:href="#icon-bg-close"></use>',
            move: '<use xlink:href="#icon-bg-move"></use>',
            copy: '<use xlink:href="#icon-bg-content_copy"></use>',
            chevron: {
                left: '<use xlink:href="#icon-bg-chevron_left"></use>',
                right: '<use xlink:href="#icon-bg-chevron_right"></use>'
            },
            edit: '<use xlink:href="#icon-bg-create"></use>',
            rotateLeft: '<use xlink:href="#icon-bg-rotate_left"></use>',
            rotateRight: '<use xlink:href="#icon-bg-rotate_right"></use>'
        }
    },
    789: function() {
        function o(e) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            )(e)
        }
        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(e, function(e) {
                    e = function(e, t) {
                        if ("object" !== o(e) || null === e)
                            return e;
                        var n = e[Symbol.toPrimitive];
                        if (void 0 === n)
                            return ("string" === t ? String : Number)(e);
                        n = n.call(e, t || "default");
                        if ("object" !== o(n))
                            return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }(e, "string");
                    return "symbol" === o(e) ? e : String(e)
                }(i.key), i)
            }
        }
        function r(e, t) {
            return (r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
                return e.__proto__ = t,
                e
            }
            )(e, t)
        }
        function l(n) {
            var i = function() {
                if ("undefined" == typeof Reflect || !Reflect.construct)
                    return !1;
                if (Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }();
            return function() {
                var e, t = c(n), t = (e = i ? (e = c(this).constructor,
                Reflect.construct(t, arguments, e)) : t.apply(this, arguments),
                this);
                if (e && ("object" === o(e) || "function" == typeof e))
                    return e;
                if (void 0 !== e)
                    throw new TypeError("Derived constructors may only return object or undefined");
                return s(t)
            }
        }
        function s(e) {
            if (void 0 === e)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }
        function c(e) {
            return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            )(e)
        }
        var e, t, h, i, d, u;
        e = "galleryToolbar",
        window.eviivo = window.eviivo || {},
        window.eviivo.jsx = window.eviivo.jsx || {},
        window.eviivo.jsx.render = window.eviivo.jsx.render || {},
        window.eviivo.jsx.render[e] = function(e, t, n) {
            i(h(u, e), t, n)
        }
        ,
        t = preact,
        h = t.h,
        i = t.render,
        d = t.Component,
        u = function() {
            var e = o
              , t = d;
            if ("function" != typeof t && null !== t)
                throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            t && r(e, t);
            var n, i = l(o);
            function o(e) {
                if (this instanceof o)
                    return (e = i.call(this, e)).state = {
                        dataObject: {
                            selectMediaCount: 0,
                            showMenuList: !1
                        },
                        internalOptions: window.jQuery.extend({}, e.props.callerOptions),
                        internalActions: e.props.actions,
                        toolBarActions: e.props.toolbarActions,
                        parentActions: e.props.parentActions
                    },
                    e.state.internalOptions.id += "-gallery-toolbar",
                    e.state.dataObject.selectedGalleryCode = e.state.internalOptions.galleryContext.selectedGalleryCode,
                    e.state.dataObject.selectedEntityReference = e.state.internalOptions.galleryContext.selectedEntityReference,
                    e.handleLayoutSelect = e.handleLayoutSelect.bind(s(e)),
                    e.AddMediaButtonClick = e.AddMediaButtonClick.bind(s(e)),
                    e;
                throw new TypeError("Cannot call a class as a function")
            }
            return e = o,
            (t = [{
                key: "AddMediaButtonClick",
                value: function(e) {
                    e.preventDefault(),
                    this.state.toolBarActions.onAddMedia(e, this.state.internalOptions, this.state.parentActions.imageRefresh)
                }
            }, {
                key: "componentWillReceiveProps",
                value: function(e) {
                    this.setState(e)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    var e, t = this, n = t.state, i = n.internalActions;
                    null != i && null != (i = i.galleryToolbar) && "function" == typeof i.onComponentDidMount && (e = window.jQuery.extend(!0, {}, n),
                    i.onComponentDidMount(function(e) {
                        null != e.galleries && (n.galleries = e.galleries),
                        n.dataObject = e,
                        t.setState(n)
                    }, e))
                }
            }, {
                key: "handleLayoutSelect",
                value: function(e) {
                    var e = e.currentTarget.value
                      , e = (this.props.changeLayout(e),
                    this.state.dataObject.resetSortable = !0,
                    this.state.internalActions);
                    null != e && null != (e = e.galleryToolbar) && "function" == typeof e.onResetSortable && e.onResetSortable(this.state.dataObject.resetSortable)
                }
            }, {
                key: "getGalleryName",
                value: function(e, t) {
                    var n;
                    return null != e ? null == (n = e.find(function(e) {
                        return e.Code === t
                    })) ? (e = e.find(function(e) {
                        return null != e.Galleries && e.Galleries.find(function(e) {
                            return e.Code === t
                        })
                    }),
                    this.getGalleryName(e.Galleries, t)) : n.Name : t
                }
            }, {
                key: "render",
                value: function() {
                    var e, t, n = eviivo.media.icons, i = this.state, o = i.dataObject, a = i.internalOptions, r = null == o.selectedMediaCount ? 0 : o.selectedMediaCount, l = a.id, s = l + "-thumbnail", c = l + "-list", d = l + "-bulk-actions", u = (null == o.selectedGalleryCode || null == o.selectedGalleryCode ? a.galleryContext : o).selectedGalleryCode, f = !a.galleryContext.showAllGalleries && ("room_types" === u || "property_photos" === u || "my_web_home" === u || "property_checkin" === u && !1 === a.renderFlags.isFlyoutMode), p = null, v = (!0 !== a.renderFlags.isFlyoutMode || a.renderFlags.isUploadFlyoutMode || (y = this.getGalleryName(i.galleries, a.galleryContext.selectedGalleryCode),
                    v = null,
                    a.galleryContext.showAllGalleries || (v = h("option", {
                        value: "all_media",
                        "data-entity-reference": a.galleryContext.selectedEntityReference
                    }, eviivo.media.translations.GalleryList_AllMedia)),
                    m = null,
                    "all_media" != a.galleryContext.selectedGalleryCode && (m = h("option", {
                        value: a.galleryContext.selectedGalleryCode,
                        "data-entity-reference": a.galleryContext.selectedEntityReference
                    }, y)),
                    y = null,
                    a.galleryContext.showAllGalleries && (y = null == i.galleries ? "" : i.galleries.map(function(e) {
                        return h("option", {
                            value: e.Code,
                            "data-entity-reference": a.galleryContext.selectedEntityReference
                        }, e.Name)
                    })),
                    p = h("div", {
                        className: "cp-inner-toolbar_section mr16"
                    }, h("select", {
                        className: "s-gallery-switch cp-custom-select mr16",
                        value: u
                    }, v, m, y))),
                    null), m = (!0 !== a.renderFlags.isFlyoutMode || a.renderFlags.isUploadFlyoutMode || null == a.groupContext || (m = a.galleryContext.referenceId,
                    y = a.groupContext.map(function(e) {
                        return h("option", {
                            value: e.ReferenceId,
                            "data-id": e.BusinessId
                        }, e.DisplayName)
                    }),
                    v = h("div", {
                        className: "cp-inner-toolbar_section mr16"
                    }, h("select", {
                        className: "s-property-switch cp-custom-select mr16",
                        value: m
                    }, y))),
                    i.dataObject.sortable || r <= 0), y = "cp-button-select", g = (o.showMenuList && !m && (y += " cp-button-select_active"),
                    null), y = (!0 === a.renderFlags.isFlyoutMode || a.renderFlags.isUploadFlyoutMode || (e = h("li", {
                        className: "cp-menu-list_item cp-menu-list_icon cp-menu-list_danger",
                        id: l + "-delete"
                    }, h(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-delete",
                        icon: n.delete
                    }), eviivo.media.translations.Menu_Delete),
                    t = h("li", {
                        className: "cp-menu-list_item cp-menu-list_icon cp-menu-list_danger",
                        id: l + "-delete"
                    }, eviivo.media.translations.Menu_Remove),
                    g = h("div", {
                        className: y
                    }, h("button", {
                        id: d,
                        className: "btn btn-icon btn-icon_after mr16",
                        disabled: m
                    }, h("span", null, eviivo.media.translations.Button_BulkActions), h(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-arrow_drop_down",
                        icon: n.arrows.down
                    })), h("ul", {
                        className: "cp-menu-list cp-menu-list_right-down"
                    }, h("li", {
                        className: "cp-menu-list_item cp-menu-list_info"
                    }, eviivo.media.translations.Menu_SelectedCount.replace("{0}", r)), h("li", {
                        className: "cp-menu-list_divider"
                    }), h("li", {
                        className: "cp-menu-list_item",
                        id: l + "-categorize"
                    }, eviivo.media.translations.Menu_Categorize), h("li", {
                        className: "cp-menu-list_item",
                        id: l + "-add-to-gallery"
                    }, eviivo.media.translations.Menu_AddToGallery), h("li", {
                        className: "cp-menu-list_item",
                        id: l + "-set-media-type"
                    }, eviivo.media.translations.Menu_SetMediaType), h("li", {
                        className: "cp-menu-list_divider"
                    }), "all_media" === u ? e : t))),
                    null), d = (1 == a.renderFlags.isFlyoutMode || a.renderFlags.isUploadFlyoutMode || (y = h("div", {
                        className: "cp-inner-toolbar_section cp-radio-group radio-group-small mr16"
                    }, h("input", {
                        type: "radio",
                        name: l,
                        id: s,
                        value: "grid",
                        onChange: this.handleLayoutSelect,
                        defaultChecked: !0
                    }), h("label", {
                        htmlFor: s,
                        className: "btn btn-grouped btn-invert btn-icon"
                    }, h(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-grid_panoramic",
                        icon: n.displayModes.thumbnail
                    })), h("input", {
                        type: "radio",
                        name: l,
                        id: c,
                        value: "list",
                        onChange: this.handleLayoutSelect
                    }), h("label", {
                        htmlFor: c,
                        className: "btn btn-grouped btn-invert btn-icon"
                    }, h(eviivo.jsx.component.svgRender, {
                        cssClass: "icon-bg icon-bg-list-view",
                        icon: n.displayModes.list
                    })))),
                    null);
                    return (null == a.numberOfSelectedItemsAllowed || 1 < a.numberOfSelectedItemsAllowed) && !a.renderFlags.isUploadFlyoutMode && (m = "s-media-select-all mr16 user-select-none s-drag-false" + (i.dataObject.sortable ? " disabled" : ""),
                    d = r <= 0 ? h("a", {
                        href: "#select-all",
                        className: m,
                        draggable: "false"
                    }, eviivo.media.translations.Button_SelectAll) : h("a", {
                        href: "#clear-selection",
                        className: "s-media-clear-selection mr16 user-select-none s-drag-false",
                        draggable: "false"
                    }, eviivo.media.translations.Button_ClearAll)),
                    h("section", {
                        className: "cp-inner-toolbar",
                        id: l
                    }, y, h(eviivo.jsx.component.checkBox, {
                        dataObject: o,
                        label: eviivo.media.translations.Label_Reorder,
                        id: l,
                        display: f,
                        resetSortable: i.dataObject.resetSortable,
                        actions: i.internalActions,
                        callback: this.state.parentActions.toggleOrdering
                    }), v, p, h("div", {
                        className: "cp-inner-toolbar_section cp-inner-toolbar_section-end"
                    }, d, g, h("button", {
                        onclick: this.AddMediaButtonClick,
                        className: "btn",
                        id: l + "-add-media",
                        disabled: i.dataObject.sortable
                    }, eviivo.media.translations.Button_AddMedia)))
                }
            }]) && a(e.prototype, t),
            n && a(e, n),
            Object.defineProperty(e, "prototype", {
                writable: !1
            }),
            o
        }(),
        window.eviivo.jsx.component = window.eviivo.jsx.component || {},
        window.eviivo.jsx.component[e] = u
    }
}
  , i = {};
function o(e) {
    var t = i[e];
    return void 0 !== t || (t = i[e] = {
        exports: {}
    },
    n[e](t, t.exports, o)),
    t.exports
}
o.n = function(e) {
    var t = e && e.__esModule ? function() {
        return e.default
    }
    : function() {
        return e
    }
    ;
    return o.d(t, {
        a: t
    }),
    t
}
,
o.d = function(e, t) {
    for (var n in t)
        o.o(t, n) && !o.o(e, n) && Object.defineProperty(e, n, {
            enumerable: !0,
            get: t[n]
        })
}
,
o.o = function(e, t) {
    return Object.prototype.hasOwnProperty.call(e, t)
}
,
function() {
    "use strict";
    o(838),
    o(501),
    o(464),
    o(717),
    o(114),
    o(793),
    o(446),
    o(657),
    o(347),
    o(531),
    o(789),
    o(542),
    o(375),
    o(547),
    o(760),
    o(356),
    o(423),
    o(289),
    o(209)
}();
//# sourceMappingURL=preview_loader.min.js.map
