var t={7887:function(){function a(e,i){i=$("#".concat(e," th:eq(").concat(i,")")).attr("data-key");return $.each(n,function(){this.tableId.toLowerCase()==e.toLowerCase()&&(cachedTableColumnCodesMap=this.columnCodes)}),cachedTableColumnCodesMap[i]}var n,r,l,s;window.eviivo=window.eviivo||{},window.eviivo.pms=window.eviivo.pms||{},window.eviivo.pms.listingTable=window.eviivo.pms.listingTable||{},window.eviivo.pms.listingTable.filterActions=window.eviivo.pms.listingTable.filterActions||{},window.eviivo.pms.listingTable.filterActions=(n=[{tableId:"eviivo-list-rule",tableCode:"PRL",columnCodes:{PropertyName:"PRO",TypeCodeDescription:"RTY",Name:"RNA",RoomTypeName:"APP",ChannelsFilter:"CHA",Status:"STA",UpdateStatus:"UST"}},{tableId:"eviivo-list-cutoff",tableCode:"BCO",columnCodes:{PropertyName:"BPR",Description:"BCD",Status:"BST"}},{tableId:"eviivo-list-cleaning",tableCode:"CLN",columnCodes:{Unit:"CRO",Movement:"CMO",Condition:"CCO",Schedule:"CSH",Assigned:"CAT",BedConfig:"CBE",Property:"CPR"}},{tableId:"eviivo-list-charge",tableCode:"GCH",columnCodes:{PropertyName:"GPR",Name:"GCN",CategoryName:"GCA",DisplayOnline:"GDO",CollectionMethodDisplay:"GCO"}},{tableId:"eviivo-list-ownercharge",tableCode:"OCH",columnCodes:{PropertyName:"OPR",Name:"OCN",CategoryName:"OCA"}},{tableId:"eviivo-list-deductions",tableCode:"DED",columnCodes:{BusinessName:"DEP",Name:"DEN",Category:"DEC",Apply:"DEA",Pricing:"DDP"}},{tableId:"eviivo-list-categories",tableCode:"CCA",columnCodes:{BusinessName:"CCP",Category:"CCC",Code:"CCO",AssociatedTemplates:"CCA"}},{tableId:"eviivo-list-promotion",tableCode:"PRO",columnCodes:{BusinessName:"PRP",Name:"PPR",Type:"PRT",DiscountRules:"PDI",BookingWindow:"PWI",Status:"PST"}},{tableId:"eviivo-list-ratemap",tableCode:"RML",columnCodes:{BusinessName:"RMP",RoomTypeName:"RMR",RatePlanName:"RRP",Status:"RMS",Guests:"RMC",MaxAdults:"RMA",MaxChildren:"RMK",BoardBasis:"RMB",Cancellation:"RMN",Deposit:"RMD",Channels:"RMH"}},{tableId:"eviivo-list-reports",tableCode:"DRT",columnCodes:{Name:"DRN"}},{tableId:"eviivo-list-rateplans",tableCode:"CRS",columnCodes:{Status:"CRS",Channels:"CRC",RoomType:"CRR",RatePlan:"CRP",Notes:"CRN"}},{tableId:"eviivo-list-emails",tableCode:"MTL",columnCodes:{PropertyName:"MTP",GuestCycle:"MTC",EmailType:"MTT",Description:"MTD",Schedule:"MTS",Status:"MTA"}},{tableId:"eviivo-list-headers",tableCode:"HML",columnCodes:{PropertyName:"HPC",Universal:"HUC",HomePage:"HHC",WebPage:"HWC",Emails:"HEC",Invoice:"HIC",GuestRegistration:"HGC"}},{tableId:"eviivo-list-bookings",tableCode:"ATL",columnCodes:{BusinessName:"ATP",GuestSurname:"ATG",RoomName:"ATR",NumberOfNights:"ATN",Source:"ATS",IsMarkedBool:"ATH"}},{tableId:"eviivo-list-agreementtemplate",tableCode:"ATT",columnCodes:{TemplateName:"ATN",AppliesTo:"ATA"}},{tableId:"eviivo-list-agreement",tableCode:"AGT",columnCodes:{PropertyName:"AGP",AgreementDisplayName:"AGN",SignatureFirstName:"AGF",SignatureSurname:"AGS",OrderReference:"AGO",OrderCheckInPropertyDate:"AGC",AgreementSentPropertyDateTime:"AGS",SignaturePropertyDateTime:"AGX",Status:"AGA"}}],r=[],l="ATL",s="ATH",{init:function(e){var i,t,o,a;o=e.table,$.each(n,function(){this.tableId.toLowerCase()==o.toLowerCase()&&(a=this.tableCode)}),i=a,t=e.callback,eviivo.webcore.ajaxHelper.executeAjax({actionId:"get-listingtable-filter-data-".concat(i),url:"".concat(eviivoSuiteApp,"/api/UserPreferenceListingTableFilterActions/get?tableCode=").concat(i),method:eviivo.webcore.ajaxHelper.methods.GET,contentType:eviivo.webcore.ajaxHelper.contentTypes.APPLICATION_JSON_UTF8,dataType:eviivo.webcore.ajaxHelper.dataTypes.JSON,callback:function(e){r=r.concat(e),(e=i)==l&&(null==(e=null==(e=r)?void 0:e.filter(function(e){return e.Key==s}))||0==e.length?r.push({PreferenceGroupType:l,Key:s,Value:'["false"]'}):null!=e&&"[]"==e[0].Value&&(e[0].Value='["false"]')),t()},failCallback:function(){t()}})},get:function(e,i){var t=a(e,i),o=null;return $.each(r,function(){this.Key==t&&(o=this.Value)}),null==o?"":(o=o.replaceAll("&quot;",'"'),JSON.parse(o))},post:function(e,i){var e=e.parents("table").attr("id"),t=eviivo.component.listing.filter.getColumnSearchStrings(e,i),e=a(e,i);eviivo.webcore.ajaxHelper.executeAjax({actionId:"post-listingtable-filter-".concat(e),url:"".concat(eviivoSuiteApp,"/api/UserPreferenceListingTableFilterActions/post"),data:{ColumnCode:e,ColumnFilter:JSON.stringify(t)},method:eviivo.webcore.ajaxHelper.methods.POST,contentType:eviivo.webcore.ajaxHelper.contentTypes.APPLICATION_JSON_UTF8,dataType:eviivo.webcore.ajaxHelper.dataTypes.JSON,callback:function(e){}})}})},1452:function(){var n,r;window.eviivo=window.eviivo||{},window.eviivo.pms=window.eviivo.pms||{},window.eviivo.pms.listingTable=window.eviivo.pms.listingTable||{},window.eviivo.pms.listingTable.orderActions=window.eviivo.pms.listingTable.orderActions||{},window.eviivo.pms.listingTable.orderActions=(n=[{tableId:"eviivo-list-rule",Order:"SRT"},{tableId:"eviivo-list-cutoff",Order:"BOR"},{tableId:"eviivo-list-cleaning",Order:"COR"},{tableId:"eviivo-list-charge",Order:"GOR"},{tableId:"eviivo-list-ownercharge",Order:"OOR"},{tableId:"eviivo-list-deductions",Order:"DEO"},{tableId:"eviivo-list-categories",Order:"CCS"},{tableId:"eviivo-list-promotion",Order:"POR"},{tableId:"eviivo-list-ratemap",Order:"RMO"},{tableId:"eviivo-list-reports",Order:"DRO"},{tableId:"eviivo-list-rateplans",Order:"RSO"},{tableId:"eviivo-list-emails",Order:"MTO"},{tableId:"eviivo-list-headers",Order:"HLO"},{tableId:"eviivo-list-bookings",Order:"ATO"},{tableId:"eviivo-list-agreementtemplate",Order:"ATD"},{tableId:"eviivo-list-agreement",Order:"AGD"}],r={},{post:function(e,i){var t,o,a=eviivo.util.getJSId($(this)[0].container);null!=a&&null!=i&&isNaN(i)&&(i={ColumnCode:(t=a,$.each(n,function(){this.tableId.toLowerCase()==t.toLowerCase()&&(o=this.Order)}),o),Order:JSON.stringify(i)})!=r&&(r=i,eviivo.webcore.ajaxHelper.executeAjax({actionId:"post-listingtable-order",url:"".concat(eviivoSuiteApp,"/api/UserPreferenceListingTableFilterActions/order-post"),data:i,method:eviivo.webcore.ajaxHelper.methods.POST,contentType:eviivo.webcore.ajaxHelper.contentTypes.APPLICATION_JSON_UTF8,dataType:eviivo.webcore.ajaxHelper.dataTypes.JSON,callback:function(e){}}))}})},3614:function(){function r(e,i){p||(l(".s-reporting-summary").addClass("hide"),l(".s-reporting-summary-header").addClass("hide")),i&&l(d.listTable).removeClass("hide"),e&&(l("#reports-unavailable-error").show(),l("#reports-unavailable-error").find(".spinner").removeClass("hide").addClass("active")),c.classList.add("hide")}function t(n){eviivo.webcore.ajaxHelper.executeAjax({actionId:"reporting-api.get"+n,url:"/reporting-api/reportList.aspx?type="+n,method:eviivo.webcore.ajaxHelper.methods.GET,contentType:eviivo.webcore.ajaxHelper.contentTypes.URL_ENCODED_UTF8,dataType:eviivo.webcore.ajaxHelper.dataTypes.HTML,failCallback:function(){r(!1,!0)},callback:function(e){var t,o,a;""!=e&&(o=null==(o=(t=e).match(/data-key="(.*?)"/g))?void 0:o.map(function(e){return e.replace(/data-key="/g,"").replace(/"/g,"")}),e=null==(e=e.match(/data-des="(.*?)"/g))?void 0:e.map(function(e){return e.replace(/data-des="/g,"").replace(/"/g,"")}),null!=o)?(o="".concat(o,",").concat(e),a=t,eviivo.webcore.ajaxHelper.executeAjax({actionId:"reporting-translations.get"+n,url:eviivoSuiteApp+"/reporting/getTranslations",method:eviivo.webcore.ajaxHelper.methods.POST,contentType:eviivo.webcore.ajaxHelper.contentTypes.URL_ENCODED_UTF8,dataType:eviivo.webcore.ajaxHelper.dataTypes.HTML,data:{key:o},failCallback:function(){r(!1,!1)},callback:function(e){if(null!=e){for(e=JSON.parse(e),i=0;i<e.length;i++){var t;""!=e[i].Value&&(e[i].Key=e[i].Key.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t=new RegExp(e[i].Key,"g"),a=a.replace(t,e[i].Value),(t=l(".s-reporting-summary")).find('a[data-name="'+e[i].Key+'"].s-open-report').html(e[i].Value),t.find('a[data-title="'+e[i].Key+'"].s-open-report').attr("title",e[i].Value),t.find('a[data-title="'+e[i].Key+'"].s-open-report').attr("data-tooltip-title",e[i].Value),t.find('a[data-name="'+e[i].Key+'"].premium span').html(e[i].Value))}var o=l(d.listTable);eviivo.pms.reportingList.addRows(a.replace(/@ReportingResources.Run/g,s.view)),o.find("tbody tr").sort(function(e,i){return l("td:first",e).text().localeCompare(l("td:first",i).text())}).appendTo(o),p=!0,l(".s-reporting-summary").removeClass("hide"),l(".s-reporting-summary-header").removeClass("hide"),l(d.listTable).removeClass("hide"),c.classList.add("hide")}}})):r(!1,!0)}})}function o(){var e=l(this).data("id"),i=l('a[href*="/'+e+'"]').attr("href"),e=(l('a[href*="/'+e+'&"]').trigger("click"),window.open(i,"_blank"));null!=e&&e.focus()}var l,s,c,d,p;window.eviivo=window.eviivo||{},window.eviivo.eagle=window.eviivo.eagle||{},window.eviivo.eagle.connectivityCheck=window.eviivo.eagle.connectivityCheck||{},window.eviivo.eagle.connectivityCheck=(l=jQuery,s={checkUrl:null,basicPremium:!1,internal:!1,housekeeping:!1,owner:!1},c=document.getElementById("loading-overlay"),p=!(d={listTable:"#eviivo-list-reports"}),{init:function(e){s=eviivo.util.extend(s,e),c.classList.remove("hide"),eviivo.webcore.ajaxHelper.executeAjax({actionId:"reportPage.checkReportServerAvailability",url:s.checkUrl,method:eviivo.webcore.ajaxHelper.methods.GET,failCallback:function(){r(!0,!0)},callback:function(e){s.housekeeping&&t("housekeeping"),s.basicPremium&&t("basicPremium"),s.internal&&t("internal"),s.owner&&t("owner")}}),l(".s-open-report").on("click",o)}})},2363:function(){function r(){var t,e=p.evStandardIso8601DateTimeUtcExtended(),i=v.evStandardIso8601DateTimeUtcExtended(),o="";$("#popup-reporting .s-isolate-scroll").length&&(t="",$("#popup-reporting .s-isolate-scroll li").each(function(e,i){$(i).find("input[type='checkbox']").is(":checked")&&(t+=$(i).data("bid")+",")}),""===(o=t=t.slice(0,-1)))?eviivo.webcore.notifier.show({type:eviivo.webcore.notifier.types.error,message:T.resources.noBusinessSelectedError}):(e=eviivoSuiteApp+"/reporting/download?startDate="+e+"&endDate="+i+"&reportingBookingType="+m+"&bookingsStatus="+f+"&businessIds="+o,window.location=e)}function l(){u=$(this).val(),C.single===u?(b.html(T.resources.dateLabel),(v=new Date(p.getTime())).setHours(23,59,59,999),d.datepicker("setDate",v),c.datepicker("option","maxDate",null),d.datepicker("option","minDate",null),g.hide()):(b.html(T.resources.dateFromLabel),d.datepicker("option","minDate",p),g.show())}function s(){eviivo.eagle.popup.show({popupBox:T.popupBox,closeButton:$(".s-close"),serviceUrl:null})}var c,d,p,v,u,m,b,g,C,w,T,f;window.eviivo=window.eviivo||{},window.eviivo.eagle=window.eviivo.eagle||{},window.eviivo.eagle.reportingPopup=window.eviivo.eagle.reportingPopup||{},window.eviivo.eagle.reportingPopup=(C={single:"singleDateType",range:"rangeDateType"},w={Undefined:0,BookingDate:1,CheckInDate:2,CheckOutDate:3,StayDate:4},T={culture:null,top:100,popupBox:$("#popup-reporting"),closeButton:$(".s-close")},f="",{init:function(e){T=$.extend(T,e),b=$("#popup-reporting #dateFromLabel"),g=$(".end-date-block"),e=(new Date).evStandardFirstDayCalendarOffset(eviivo.eagle.basePageModelState.userCultureCode),c=T.popupBox.find(".eviivo-startdate input"),c=eviivo.webcore.calendar.init(eviivo.webcore.calendar.CALENDAR_TYPE.initCalendar,{defaultCultureCode:T.culture,calendar:c,showOn:"both",buttonImage:T.calendarIcon,dateFormat:eviivo.eagle.dateFormat.getDateFormat("LONG_DATE_FORMAT"),changeMonth:!0,changeYear:!0,yearRange:"c-4:c+5",firstDay:e,onSelect:function(){p=c.datepicker("getDate"),C.single===u&&(v=new Date(p.getTime())),d.datepicker("option","minDate",p),v.setHours(23,59,59,999),d.datepicker("setDate",v)}}),(p=new Date).setHours(0,0,0,0),c.datepicker("setDate",p),d=T.popupBox.find(".eviivo-enddate input"),d=eviivo.webcore.calendar.init(eviivo.webcore.calendar.CALENDAR_TYPE.initCalendar,{defaultCultureCode:T.culture,calendar:d,showOn:"both",buttonImage:T.calendarIcon,dateFormat:eviivo.eagle.dateFormat.getDateFormat("LONG_DATE_FORMAT"),changeMonth:!0,changeYear:!0,yearRange:"c-4:c+5",firstDay:e,onSelect:function(){(v=d.datepicker("getDate")).setHours(23,59,59,999)}}),(v=new Date).setHours(23,59,59,999),d.datepicker("setDate",v),e=T.popupBox.find("#reporting-by input[type='radio']"),m=w.BookingDate,u=C.single,e.on("change",function(){m=$(this).val()});for(var o=$("#popup-reporting .s-isolate-scroll"),a=$(o).clone().find("li"),i=a.get().map(function(e){return $(e).find("label").text()}),t=($(o).html(""),[]),n=0;n<i.length;n++)t.push(i[n].toLowerCase());t.sort(),t.forEach(function(t,e){var i=a.filter(function(e,i){return $(i).find("label").text().toLowerCase()===t});$(o).append(i)}),$("#downloadReport").on("click",r),$('[name="dateTypeReport"]').on("click",l),$("#eviivo-list-reports").on("click",".s-booking-report",s),$(".s-reporting-summary").on("click",".s-booking-report",s),$("input:radio[name=bookingsStatus]").on("click",function(){f=$(this).val()})}})},4380:function(){var i,t;window.eviivo=window.eviivo||{},window.eviivo.pms=window.eviivo.pms||{},window.eviivo.pms.reportingList=window.eviivo.pms.reportingList||{},window.eviivo.pms.reportingList=(t={listTable:"#eviivo-list-reports"},{init:function(e){(i=e).canViewBookingReport&&$(t.listTable).find("tbody").append("<tr>\n                <td>".concat(i.resources.bookingReportName,"</td>\n                <td>").concat(i.resources.bookingReportDescription,'</td>\n                <td class="md-table_text-right">\n                    <a id="booking-report"\n                        class="s-booking-report md-table_action md-table_action-item"\n                        href="javascript:;"\n                        data-tooltip="title"\n                        data-tooltip-title="').concat(i.resources.bookingReportTooltip,'"\n                        data-tooltip-pos="top"\n                        title="').concat(i.resources.bookingReportTooltip,'">\n                        <svg class="icon-bg icon-bg-eye-outline"><use xlink: href="#icon-bg-eye-outline"></use></svg>\n                    </a>\n                </td>\n            </tr>')),eviivo.pms.listingTable.filterActions.init({table:"eviivo-list-reports",callback:function(){eviivo.component.listing.postInitRefreshDataTableSpecific(t.listTable)}}),$("body").tip()},addRows:function(e){e=$("<tbody>".concat(e,"</tbody>")).find("tr"),eviivo.component.listing.addRowsData(t.listTable,e),eviivo.component.listing.filter.updateAllTableFilters(t.listTable)}})}},o={};function a(e){var i=o[e];return void 0!==i||(i=o[e]={exports:{}},t[e](i,i.exports,a)),i.exports}a.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(i,{a:i}),i},a.d=function(e,i){for(var t in i)a.o(i,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},function(){"use strict";a(2363),a(3614),a(4380),a(7887),a(1452)}();
//# sourceMappingURL=reports.min.js.map